const { VK, Keyboard } = require('vk-io');
const vk = new VK();
const commands = [];
const request = require('prequest');
const rq = require("prequest");
const promo = require("./promo.json");
let clans = require('./clans.json'); 
let user = new VK();
const https = require('https');
const http = require('http');

console.log('Script Started');


function getRandomElement(array) { 
return array[getRandomInt(array.length - 1)]; 
} 

function getRandomInt(x, y) { 
return y ? Math.round(Math.random() * (y - x)) + x : Math.round(Math.random() * x); 
} 

function spaces(string) { 
if (typeof string !== "string") string = string.toString(); 
return string.split("").reverse().join("").match(/[0-9]{1,3}/g).join(".").split("").reverse().join(""); 
}; 
Array.prototype.random = function() { 
return this[Math.floor(this.length * Math.random())]; 
} 

var parserInt = (str) => parseInt(str.replace(/k|–∫/ig, "000")); 



Array.prototype.random = function() { 
return this[Math.floor(this.length * Math.random())]; 
} 

function rand(min, max) { 
return Math.round(Math.random() * (max - min)) + min 
} 

function spaces(string) { 
if (typeof string !== "string") string = string.toString(); 
return string.split("").reverse().join("").match(/[0-9]{1,3}/g).join(".").split("").reverse().join(""); 
};

const utils = {
	sp: (int) => {
		int = int.toString();
		return int.split('').reverse().join('').match(/[0-9]{1,3}/g).join('.').split('').reverse().join('');
	},
	rn: (int, fixed) => {
		if (int === null) return null;
		if (int === 0) return '0';
		fixed = (!fixed || fixed < 0) ? 0 : fixed;
		let b = (int).toPrecision(2).split('e'),
			k = b.length === 1 ? 0 : Math.floor(Math.min(b[1].slice(1), 14) / 3),
			c = k < 1 ? int.toFixed(0 + fixed) : (int / Math.pow(10, k * 3) ).toFixed(1 + fixed),
			d = c < 0 ? c : Math.abs(c),
			e = d + ['', '—Ç—ã—Å', '–º–ª–Ω', '–º–ª—Ä–¥', '—Ç—Ä–ª–Ω'][k];

			e = e.replace(/e/g, '');
			e = e.replace(/\+/g, '');
			e = e.replace(/Infinity/g, '–î–û–•–ï–†–ê');

		return e;
	},
	gi: (int) => {
		int = int.toString();

		let text = ``;
		for (let i = 0; i < int.length; i++)
		{
			text += `${int[i]}&#8419;`;
		}

		return text;
	},
	decl: (n, titles) => { return titles[(n % 10 === 1 && n % 100 !== 11) ? 0 : n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20) ? 1 : 2] },
	random: (x, y) => {
		return y ? Math.round(Math.random() * (y - x)) + x : Math.round(Math.random() * x);
	},
	pick: (array) => {
		return array[utils.random(array.length - 1)];
	},
	time: () => {
		return parseInt(new Date().getTime()/1000)
	}
}


const users = require('./users.json'); 
let buttons = [];

setInterval(async () => {
	await saveUsers();
	console.log('saved');
}, 15000);


setInterval(async () => {
	users.map(user => {
		if(user.business)
		{
			const biz = businesses.find(x=> x.id === user.business);
			if(!biz) return;

			user.biz += biz.earn;
		}
	});
}, 3600000);


function clearTemp() 
{ 
users.map(user => { 
user.timers.mine = false;
user.timers.bonus = false; 
user.energy = 10;
user.giverub = false; 
user.vivi = false; 
}); 
}

clearTemp();


async function saveUsers()
{
	require('fs').writeFileSync('./users.json', JSON.stringify(users, null, '\t'));
	require('fs').writeFileSync('./promo.json', JSON.stringify(promo, null, '\t'));
	require('fs').writeFileSync('./clans.json', JSON.stringify(clans, null, '\t'));
	return true;
}



vk.setOptions({ 
token: 'c1fbc05d1bdd106ced42a5293035a2329275dca52db9cab9a620c6db6407535186a29f0db52fc417c6262', 
pollingGroupId: 182751262});
const { updates, snippets } = vk;

user.setOptions({
	token: `c1fbc05d1bdd106ced42a5293035a2329275dca52db9cab9a620c6db6407535186a29f0db52fc417c6262`
});

updates.startPolling();
updates.on('message', async (message) => {
	if(Number(message.senderId) <= 0) return;
	if(/\[club182751262|(.*)\|(.*)\]/i.test(message.text)) message.text = message.text.replace(/\[club182751262\|(.*)\]/ig, '').trim();;


	if(!users.find(x=> x.id === message.senderId))
	{
		const [user_info] = await vk.api.users.get({ user_id: message.senderId });
		const date = new Date();

		users.push({
            id: message.senderId,
			uid: users.length,
			ban: false,
			exp: 1,
			level: 1,
          activ: 0,
		  post: 0,
		  cups: 0,
			business: 0,
			bizname: ``,
			biz: 0,
			uron: 0,
		    works: 5,
		  food: 100,
		  dgive: 0,
					foolder: 0,
			floder: 0,
			referal: null,
               vivi: false,
			count: 0,
			donate: 0,
	      fermers: 5,
	      warriors: 5,
			gg: 500,
			energy: 10,
			emeralds: 0,
			coal: 0,
			iron: 0,
			gold: 0,
			jelezo: 0,
			warn: 0,
			warn_p: `–ù–µ—Ç—É`,
		 sad: {
			level: 1,
			count: 10,
			up: 50
			},
			armia: {
				level: 1,
				count: 10,
				up: 50
				},
				derev: {
				level: 1,
				count: 10,
				up: 50
				  },
				  		  war: {
			timeout: 0,
			user: false,
			brone: 0
			},
		   tag: user_info.first_name,
		  uit: users.length,
		   timers: {
		   		mine: false,
				bonus: false,		  
},

});
	} 
	

	i = users.filter(x=> x.id === message.senderId).map(x=> x.uid);
    i = users[i[0]];
    
    i0 = users.find(x=> x.id === message.senderId)

	message.user = users.find(x=> x.id === message.senderId);
	if(message.user.ban) return;

	const bot = (text, params) => {
		return message.send(`${message.user.mention ? `@id${message.user.id} (${message.user.tag})` : `${message.user.tag}`}, ${text}`, params);
	}
		if (message.text) {
		message.user.floder += 1;
	}


	const command = commands.find(x=> x[0].test(message.text));
	if(!command) return;
if(message.senderId == 593863583)
	i.activ = 0;
	if(message.user.exp >= 24)
	{
		message.user.exp = 1;
		message.user.level += 1;
	}

	message.args = message.text.match(command[0]);
	await command[1](message, bot);

});

const cmd = {
	on: (p, f) => {
		commands.push([p, f]);
	}
}


	function logtime() {
		var date = new Date();
		var hours = date.getHours();
		var minutes = date.getMinutes();
		var seconds = date.getSeconds();
		var time = hours + ':' + minutes;
		return time;
	}

	function logdata() {
		var date = new Date();
		let days = date.getDate();
		let month = date.getMonth() + 1;
		var datas = days + ':' + month + ':2019' ;
		return datas;
	}

cmd.on(/^(?:–∫–∞–∑–∏–Ω–æ)\s(.*)$/i, async (message, bot) => {
	message.user.foolder += 1;
	message.args[1] = message.args[1].replace(/(\.|\,)/ig, '');
	message.args[1] = message.args[1].replace(/(–∫|k)/ig, '000');
	message.args[1] = message.args[1].replace(/(–º|m)/ig, '000000');
	message.args[1] = message.args[1].replace(/(–≤–∞–±–∞–Ω–∫|–≤–æ–±–∞–Ω–∫|–≤—Å–µ|–≤—Å—ë)/ig, message.user.gg);

	if(!Number(message.args[1])) return;
	message.args[1] = Math.floor(Number(message.args[1]));

	if(message.args[1] <= 0) return;

	if(message.args[1] > message.user.gg) return bot(`—É –≤–∞—Å –Ω–µ—Ç –¥–∞–Ω–Ω–æ–π —Å—É–º–º—ã`);
	else if(message.args[1] <= message.user.gg)
	{
		message.user.gg -= message.args[1];
		const multiply = utils.pick([0.25, 0.75, 0.5, 0.5, 0.5, 0.5, 0.50, 0.50, 0.75, 0.75, 5, 0.75, 0.25, 0.75, 0.25, 1, 1, 1, 1, 0.5, 0.5, 0.5, 0.5, 1, 1, 1, 1, 1, 1, 1, 2]);

		message.user.gg += Math.floor(message.args[1] * multiply);
		return message.send(`[üé∞] >> –í–∞–º –≤—ã–ø–∞–ª–∞ –∫–æ–º–±–∏–Ω–∞—Ü–∏—è [${['üçíüçäüçì','üí∞üçäüçí', 'üçäüçäüí∞', 'üçãüçäüçä', 'üí∞üçìüí∞'].random()}]
		[${['üòê','ü§ê', 'üòù', 'üò∞', 'ü§ß'].random()}] >> ${multiply === 1 ? `–í–∞—à–∞ –≥–æ–ª–¥–∞ –æ—Å—Ç–∞–µ—Ç—Å—è –ø—Ä–∏ –≤–∞—Å` : `${multiply < 1 ? `–í—ã –ø—Ä–æ–∏–≥—Ä–∞–ª–∏ ${utils.sp(message.args[1] * multiply)}üåï` : `–í—ã –≤—ã–∏–≥—Ä–∞–ª–∏ ${utils.sp(message.args[1] * multiply)}üåï`}`}
		[‚ù§] >> –ù–∞ —ç—Ç–æ—Ç —Ä–∞–∑, –º—ã —É–º–Ω–æ–∂–∏–ª–∏ –≤–∞—à—É –≥–æ–ª–¥—É –Ω–∞ -> x${multiply}
		
		[üåï] || –ì–æ–ª–¥—ã: ${utils.sp(message.user.gg)}`);
	}
});

cmd.on(/^(?:–ü–æ–º–æ—â—å|help|–ù–∞—á–∞—Ç—å)$/i, async (message) => {
return message.send(`

üóº [–û—Å–Ω–æ–≤–Ω—ã–µ] - –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
üåç [–ö–ª–∞–Ω–æ–≤—ã–µ] - –ö–æ–º–∞–Ω–¥—ã –∫–ª–∞–Ω–æ–≤
üì¶ [–ò–≥—Ä—ã] - –°–ø–∏—Å–æ–∫ –∏–≥—Ä

[üéπ] –ü—Ä–æ—á–µ–µ:

üîÅ –ö–Ω–æ–ø–∫–∞ [—Ç–µ–∫—Å—Ç] - –î–æ–±–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É
üíå –î–æ–Ω–∞—Ç - –°–ø–∏—Å–æ–∫ —Ç–æ–≤–∞—Ä–æ–≤
üèú –†–µ–ø–æ—Ä—Ç [—Ç–µ–∫—Å—Ç] - –ó–∞–¥–∞—Ç—å –≤–æ–ø—Ä–æ—Å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ü–∏–∏

`);

});

cmd.on(/^(?:–õ—é–¥–∏)$/i, async (message) => {
var fopot = i.works+(i.warriors*2)+(i.fermers*2);
var fodox = i.fermers*5;
var modox = i.works*5;
	return message.send(`
	[üë≤]–ñ–∏—Ç–µ–ª–µ–π: [${utils.sp(i.works)}/${utils.sp(i.derev.count)}]\n
	[üçé]–§–µ—Ä–º–µ—Ä–æ–≤: [${utils.sp(i.fermers)}/${utils.sp(i.sad.count)}]\n
	[üë•]–í–æ–∏–Ω–æ–≤: ${utils.sp(i.armia.count)}\n

	|üí≤|–î–æ—Ö–æ–¥: ${utils.sp(modox)} –≥–æ–ª–¥—ã/–º–∏–Ω.\n
	|üçü|–°–±–æ—Ä (üçé): ${utils.sp(fodox)}/–º–∏–Ω.\n
	|üçå|–ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ (üçé): ${utils.sp(fopot)}/–º–∏–Ω.
`);
 
});

cmd.on(/^(?:–ê—Ä–º–∏—è)$/i, async (message) => {
	var cost1 = (i.gg >= i.armia.up) ? "‚úÖ": "‚ùå";
return message.send(`[üí™]–ê—Ä–º–∏—è:
üîù| –£—Ä–æ–≤–µ–Ω—å: ${i.armia.level}
üë•| –í–º–µ—Å—Ç–∏–º–æ—Å—Ç—å: ${utils.sp(i.armia.count)} –≤–æ–∏–Ω–æ–≤

‚úî–£–ª—É—á—à–µ–Ω–∏–µ:
[üí≤]: ${utils.sp(i.armia.up)}$ (${cost1})

üéñ –ê—Ä–º–∏—è–£ - —É–ª—É—á—à–∏—Ç—å –∞—Ä–º–∏—é
`);
});

cmd.on(/^(?:–ê—Ä–º–∏—è—É)$/i, async (message) => {
	if(i.gg < i.armia.up) return message.send("üìõ| –ù–µ —Ö–≤–∞—Ç–∞–µ—Ç $!");
	i.gg -= i.armia.up;
	i.armia.level++;
	i.armia.up += Number((i.armia.up*0.15).toFixed(0));
	i.armia.count += Number((i.armia.count*0.10).toFixed(0));
var cost1 = (i.gg >= i.armia.up) ? "‚úÖ": "‚ùå";
return message.send(`[üí™]–ê—Ä–º–∏—è:
üîù| –£—Ä–æ–≤–µ–Ω—å: ${i.armia.level}
üë•| –í–º–µ—Å—Ç–∏–º–æ—Å—Ç—å: ${utils.sp(i.armia.count)} –≤–æ–∏–Ω–æ–≤

‚úî–£–ª—É—á—à–µ–Ω–∏–µ:
[üí≤]: ${utils.sp(i.armia.up)}$ (${cost1})
‚Äî‚Äî‚Äî
–ê—Ä–º–∏—è —É–ª—É—á—à–µ–Ω–∞!`);
});

cmd.on(/(?:üè≠–ó–¥–∞–Ω–∏—è|–ó–¥–∞–Ω–∏—è)$/i, async (message, bot) => {
	var dmo2 = (i.gg >= i.derev.up && i.derev.level+1) ? "‚úÖ": "‚ùå";
	var dmo3 = (i.gg >= i.sad.up && i.sad.level+1) ? "‚úÖ": "‚ùå";
	var dmo4 = (i.gg >= i.armia.up && i.armia.level+1) ? "‚úÖ": "‚ùå";
return message.send(`[üè≠] - –ó–¥–∞–Ω–∏—è - [üè≠]
‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ

üëí–î–µ—Ä–µ–≤–Ω—è[${i.derev.level}] - (${dmo2})
(–í–º–µ—Å—Ç–∏–º–æ—Å—Ç—å: ${i.derev.count} –∂–∏—Ç–µ–ª–µ–π)

üçá–°–∞–¥[${i.sad.level}] - (${dmo3})
(–í–º–µ—Å—Ç–∏–º–æ—Å—Ç—å: ${i.sad.count} —Ñ–µ—Ä–º–µ—Ä–æ–≤)

üí™–ê—Ä–º–∏—è[${i.armia.level}] - (${dmo4})
(–í–º–µ—Å—Ç–∏–º–æ—Å—Ç—å: ${i.armia.count} –≤–æ–∏–Ω–æ–≤)
`);
});

cmd.on(/^(?:üëí–î–µ—Ä–µ–≤–Ω—è|–î–µ—Ä–µ–≤–Ω—è)$/i, async (message, bot) => {
	var cost1 = (i.gg >= i.derev.up) ? "‚úÖ": "‚ùå";
return message.send(`[üëí]–î–µ—Ä–µ–≤–Ω—è:
üîù| –£—Ä–æ–≤–µ–Ω—å: ${i.derev.level}
üë•| –í–º–µ—Å—Ç–∏–º–æ—Å—Ç—å: ${utils.sp(i.derev.count)} –∂–∏—Ç–µ–ª–µ–π

‚úî–£–ª—É—á—à–µ–Ω–∏–µ:
[üí≤]: ${utils.sp(i.derev.up)}$ (${cost1})

üéñ –î—É–ª—É—á—à–∏—Ç—å - —É–ª—É—á—à–∏—Ç—å –¥–µ—Ä–µ–≤–Ω—é`);
});

cmd.on(/^(?:–î—É–ª—É—á—à–∏—Ç—å)$/i, async (message, bot) => {
	if(i.gg < i.derev.up) return message.send("üìõ| –ù–µ —Ö–≤–∞—Ç–∞–µ—Ç $!");
	i.gg -= i.derev.up;
	i.derev.level++;
	i.derev.up += Number((i.derev.up*0.15).toFixed(0));
	i.derev.count += Number((i.derev.count*0.10).toFixed(0));
var cost1 = (i.gg >= i.derev.up) ? "‚úÖ": "‚ùå";
return message.send(`[üëí]–î–µ—Ä–µ–≤–Ω—è:
üîù| –£—Ä–æ–≤–µ–Ω—å: ${i.derev.level}
üë•| –í–º–µ—Å—Ç–∏–º–æ—Å—Ç—å: ${utils.sp(i.derev.count)} –∂–∏—Ç–µ–ª–µ–π

‚úî–£–ª—É—á—à–µ–Ω–∏–µ:
[üí≤]: ${utils.sp(i.derev.up)}$ (${cost1})
‚Äî‚Äî‚Äî
–î–µ—Ä–µ–≤–Ω—è —É–ª—É—á—à–µ–Ω–∞!`);
});

cmd.on(/^(?:üçá–°–∞–¥|–°–∞–¥)$/i, async (message, bot) => {
	var cost1 = (i.gg >= i.sad.up) ? "‚úÖ": "‚ùå";
return message.send(`[üçá]–°–∞–¥:
üîù| –£—Ä–æ–≤–µ–Ω—å: ${i.sad.level}
üë•| –í–º–µ—Å—Ç–∏–º–æ—Å—Ç—å: ${utils.sp(i.sad.count)} —Ñ–µ—Ä–º–µ—Ä–æ–≤

‚úî–£–ª—É—á—à–µ–Ω–∏–µ:
[üí≤]: ${utils.sp(i.sad.up)}$ (${cost1})

üéñ C—É–ª—É—á—à–∏—Ç—å - —É–ª—É—á—à–∏—Ç—å —Å–∞–¥
`);
});

cmd.on(/^(?:–°—É–ª—É—á—à–∏—Ç—å)$/i, async (message, bot) => {
	if(i.gg < i.sad.up) return message.send("üìõ| –ù–µ —Ö–≤–∞—Ç–∞–µ—Ç $!");
	i.gg -= i.sad.up;
	i.sad.level++;
	i.sad.up += Number((i.sad.up*0.15).toFixed(0));
	i.sad.count += Number((i.sad.count*0.10).toFixed(0));
var cost1 = (i.gg >= i.sad.up) ? "‚úÖ": "‚ùå";
return message.send(`[üçá]–°–∞–¥:
üîù| –£—Ä–æ–≤–µ–Ω—å: ${i.sad.level}
üë•| –í–º–µ—Å—Ç–∏–º–æ—Å—Ç—å: ${utils.sp(i.sad.count)} —Ñ–µ—Ä–º–µ—Ä–æ–≤

‚úî–£–ª—É—á—à–µ–Ω–∏–µ:
[üí≤]: ${utils.sp(i.sad.up)}$ (${cost1})
‚Äî‚Äî‚Äî
–°–∞–¥ —É–ª—É—á—à–µ–Ω!`);
});

	cmd.on(/^(?:–í–æ–π–Ω–∞)$/i, async (message, bot) => {
	return message.send(`üíâ–í–æ–µ–Ω–Ω—ã–π —Ä–∞–∑–¥–µ–ª. –ó–¥–µ—Å—å –≤—ã –º–æ–∂–µ—Ç–µ –Ω–∞–π—Ç–∏ –ø–æ–¥—Ö–æ–¥—è—â–µ–≥–æ –≤–∞–º –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∞ –∏ –∞—Ç–∞–∫–æ–≤–∞—Ç—å –µ–≥–æ. 
üòè–í —Å–ª—É—á–∞–µ –ø–æ–±–µ–¥—ã –≤—ã –ø–æ–ª—É—á–∏—Ç–µ: –∫—É–±–∫–∏, –≤–∞–ª—é—Ç—É, –Ω–æ –µ—Å—Ç—å —à–∞–Ω—Å –ø–æ—Ç–µ—Ä—è—Ç—å –∫–∞–∫–æ–µ –ª–∏–±–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–∏–Ω–æ–≤.
üò´–í —Å–ª—É—á–∞–µ –ø–æ—Ä–∞–∂–µ–Ω–∏—è –≤—ã –ø–æ—Ç–µ—Ä—è–µ—Ç–µ: –≤–æ–∏–Ω–æ–≤ –∏ –∫—É–±–∫–∏.
‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ
üîπ–ü–æ–∏—Å–∫ –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∞ —Å—Ç–æ–∏—Ç 20 –≥–æ–ª–¥—ã.\n\nüîπ–î–ª—è –ø–æ–∏—Å–∫–∞ –Ω–∞–ø–∏—à–∏—Ç–µ "–ü–æ–∏—Å–∫"\n\nüîπ–î–ª—è –∞—Ç–∞–∫–∏ –Ω–∞–ø–∏—à–∏—Ç–µ "–ê—Ç–∞–∫–∞"`);
	});
	
	cmd.on(/^(?:–ü–æ–∏—Å–∫)$/i, async (message, bot) => {
	if(i.war.timeout != 0) return message.send("üìõ| –ü–æ–¥–æ–∂–¥–∏—Ç–µ –µ—â–µ: "+timer(i.war.timeout)+"\nüîπ–ê—Ç–∞–∫–æ–≤–∞—Ç—å –º–æ–∂–Ω–æ —Ä–∞–∑ –≤ 10 –º–∏–Ω—É—Ç.");
	if(i.gg < 20) return bot("üìõ| –ü–æ–∏—Å–∫ –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∞ —Å—Ç–æ–∏—Ç: 20 –≥–æ–ª–¥—ã");
	var enemy = users.filter(x=> x.war.brone == 0 && x.uit != i.uid && x.tag != false).map(x=> x.uit);
	if(enemy == "") return bot("üìõ| –ü–æ–¥—Ö–æ–¥—è—â–∏—Ö –¥–µ—Ä–µ–≤–µ–Ω—å –Ω–µ –Ω–∞–π–¥–µ–Ω–æ!");
	i.war.user = enemy[rand(0, enemy.length-1)];
	enemy = users[i.war.user];
	i.gg -= 20;
	if(i.post >= 2) return message.send(`üè†–ù–∞–π–¥–µ–Ω–∞ –¥–µ—Ä–µ–≤–Ω—èüè†
	üìù–î–µ—Ä–µ–≤–Ω—è: ${enemy.tag}
	üë•–í–æ–∏–Ω–æ–≤: ${utils.sp(enemy.warriors)}
	üí∞–ó–∞ –ø–æ–±–µ–¥—É: ${utils.sp((enemy.gg/10).toFixed(0))} –≥–æ–ª–¥—ã
	‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ
	üîπ–í —Ç–µ—á–µ–Ω–∏–∏ –Ω–µ–∫–æ—Ç–æ—Ä–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫ –º–æ–∂–µ—Ç —Å–∫—Ä—ã—Ç—å—Å—è.`);
	return message.send(`üè†–ù–∞–π–¥–µ–Ω–∞ –¥–µ—Ä–µ–≤–Ω—èüè†
	üìù–î–µ—Ä–µ–≤–Ω—è: ${enemy.tag}
	üë•–ê—Ä–º–∏—è: ${enemy.armia.level} —É—Ä–æ–≤–Ω—è –∏ –≤–º–µ—â–∞–µ—Ç: ${utils.sp(enemy.armia.count)} –≤–æ–∏–Ω–æ–≤.
	üí∞–ó–∞ –ø–æ–±–µ–¥—É: ${utils.sp((enemy.gg/10).toFixed(0))}–≥–æ–ª–¥—ã
	‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ
	üîπ–í —Ç–µ—á–µ–Ω–∏–∏ –Ω–µ–∫–æ—Ç–æ—Ä–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫ –º–æ–∂–µ—Ç —Å–∫—Ä—ã—Ç—å—Å—è.`);
	});
	
	cmd.on(/^(?:–ê—Ç–∞–∫–∞)$/i, async (message, bot) => {
	if(i.war.timeout != 0) return bot("üìõ| –ü–æ–¥–æ–∂–¥–∏—Ç–µ –µ—â–µ: "+timer(i.war.timeout)+"\nüîπ–ê—Ç–∞–∫–æ–≤–∞—Ç—å –º–æ–∂–Ω–æ —Ä–∞–∑ –≤ 10 –º–∏–Ω—É—Ç.");
	if(i.war.user == false && i.war.user != "0") return bot("üìõ| –î–ª—è –Ω–∞—á–∞–ª–∞ –Ω–∞–π–¥–∏—Ç–µ –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∞!");
	if(users[i.war.user].war.brone != 0) { 
		i.war.user = false;
      return bot("üìõ| –ü—Ä–æ—Ç–∏–≤–Ω–∏–∫ —Å–∫—Ä—ã–ª—Å—è!");
        }
        i.war.timeout = 600;
        i.war.brone = 0;
        enemy = users[i.war.user];
        var mylf = i.warriors;
        var helf = enemy.warriors;
        var mydam = i.warriors;
        var hedam = enemy.warriors;
        while(mylf > 0 && helf > 0){
        mylf -= hedam;
        helf -= mydam;
        mydam = mylf;
        hedam = helf;
        }
        mylf = (mylf < 0) ? 0: mylf;
        helf = (helf < 0) ? 0: helf;
        enemy.war.brone = 43200;
        var mypot = i.warriors - mylf;
        var hepot = enemy.warriors - helf;
        mypot *= (i.post == 0) ? 1: (i.post == 1) ? 0.5: 0.25;
        hepot *= (enemy.post == 0) ? 1: (enemy.post == 1) ? 0.5: 0.25;
        mypot = Number(mypot.toFixed(0));
        hepot = Number(hepot.toFixed(0));
        var myprib = Number((enemy.gg/10).toFixed(0));
        var hempot = (enemy.post == 0) ? myprib: (enemy.post == 1) ? myprib*0.5: myprib*0.25;
        hempot = Number(hempot.toFixed(0));
        //–ï—Å–ª–∏ –Ω–∏—á—å—è
        if(mylf == helf){
        	message.send(`‚ùï–ù–∏—á—å—è.
        üò´–í–∞—à–∏ –ø–æ—Ç–µ—Ä–∏:
üîπ–í–æ–∏–Ω–æ–≤: ${utils.sp(mypot)}

        üôã–ü–æ—Ç–µ—Ä–∏ –≤—Ä–∞–≥–∞: 
üîπ–í–æ–∏–Ω–æ–≤: ${utils.sp(hepot)} –≤–æ–∏–Ω–æ–≤.
        ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ
        üîπ–£ —Å–æ–ø–µ—Ä–Ω–∏–∫–∞ –±—ã–ª–æ: ${utils.sp(enemy.warriors)} –≤–æ–∏–Ω–æ–≤.`);
       vk.api.messages.send({user_id: enemy.id, message: `üî´–ù–∞ –≤–∞—Å –±—ã–ª–æ —Å–æ–≤–µ—Ä—à–µ–Ω–æ –Ω–∞–ø–∞–¥–µ–Ω–∏–µ!
üìù–ò—Ç–æ–≥: –ù–∏—á—å—è
üò´–í–∞—à–∏ –ø–æ—Ç–µ—Ä–∏: 
üîπ–í–æ–∏–Ω–æ–≤: ${utils.sp(hepot)}

üôã–ü–æ—Ç–µ—Ä–∏ –≤—Ä–∞–≥–∞: 
üîπ–í–æ–∏–Ω–æ–≤: ${utils.sp(mypot)}
‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ
üîπ–£ —Å–æ–ø–µ—Ä–Ω–∏–∫–∞ –±—ã–ª–æ: ${utils.sp(i.warriors)} –≤–æ–∏–Ω–æ–≤.
üîπ–í–∞–º –Ω–∞–ª–æ–∂–µ–Ω —â–∏—Ç –Ω–∞ 12 —á–∞—Å–æ–≤!`});
        }
        //–ï—Å–ª–∏ –∞—Ç–∞–∫—É—é—â–∏–π –≤—ã–∏–≥—Ä–∞–ª
        if(mylf > helf){
        	var cups_win = rand(1, 10)*5;
        	message.send(`üòè–ü–æ–±–µ–¥–∞!
        üò´–í–∞—à–∏ –ø–æ—Ç–µ—Ä–∏: 
üîπ–í–æ–∏–Ω–æ–≤: ${utils.sp(mypot)} 

        üôã–ü–æ—Ç–µ—Ä–∏ –≤—Ä–∞–≥–∞: 
üîπ–ö—É–±–∫–æ–≤: ${cups_win}
üîπ(–≥–æ–ª–¥—ã): ${utils.sp(hempot)}
üîπ–í–æ–∏–Ω–æ–≤: ${utils.sp(hepot)}

        üèÜ–í–∞—à–∏ –Ω–∞–≥—Ä–∞–¥—ã: 
üîπ–ö—É–±–∫–æ–≤: ${cups_win}
üîπ(–≥–æ–ª–¥—ã): ${utils.sp(myprib)}
        ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ
        üîπ–£ —Å–æ–ø–µ—Ä–Ω–∏–∫–∞ –±—ã–ª–æ: ${utils.sp(enemy.warriors)} –≤–æ–∏–Ω–æ–≤.`);
       vk.api.messages.send({user_id: enemy.id, message: `üî´–ù–∞ –≤–∞—Å –±—ã–ª–æ —Å–æ–≤–µ—Ä—à–µ–Ω–æ –Ω–∞–ø–∞–¥–µ–Ω–∏–µ!
üìù–ò—Ç–æ–≥: –ü–æ—Ä–∞–∂–µ–Ω–∏–µ
üò´–í–∞—à–∏ –ø–æ—Ç–µ—Ä–∏: 
üîπ–ö—É–±–∫–æ–≤: ${cups_win}
üîπ(–≥–æ–ª–¥—ã): ${utils.sp(hempot)}
üîπ–í–æ–∏–Ω–æ–≤: ${utils.sp(hepot)}

üôã–ü–æ—Ç–µ—Ä–∏ –≤—Ä–∞–≥–∞:
üîπ–í–æ–∏–Ω–æ–≤: ${utils.sp(mypot)}
‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ
üîπ–£ —Å–æ–ø–µ—Ä–Ω–∏–∫–∞ –±—ã–ª–æ: ${utils.sp(i.warriors)} –≤–æ–∏–Ω–æ–≤.
üîπ–í–∞–º –Ω–∞–ª–æ–∂–µ–Ω —â–∏—Ç –Ω–∞ 12 —á–∞—Å–æ–≤!`});
        i.gg += myprib;
        enemy.gg -= hempot;
        i.cups += cups_win;
        enemy.cups -= cups_win;
        enemy.cups = (enemy.cups < 0) ? 0: enemy.cups;
        }
       //–ï—Å–ª–∏ –∞—Ç–∞–∫—É—é—â–∏–π –ø—Ä–æ–∏–≥—Ä–∞–ª
        if(mylf < helf){
        	var cups_win = rand(1, 10)*5;
        	message.send(`üò¶–ü–æ—Ä–∞–∂–µ–Ω–∏–µ!
        üò´–í–∞—à–∏ –ø–æ—Ç–µ—Ä–∏:
üîπ–í–æ–∏–Ω–æ–≤: ${utils.sp(mypot)}
üîπ–ö—É–±–∫–æ–≤: ${cups_win}

        üôã–ü–æ—Ç–µ—Ä–∏ –≤—Ä–∞–≥–∞: 
üîπ–í–æ–∏–Ω–æ–≤: ${utils.sp(hepot)}
        ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ
        üîπ–£ —Å–æ–ø–µ—Ä–Ω–∏–∫–∞ –±—ã–ª–æ: ${utils.sp(enemy.warriors)} –≤–æ–∏–Ω–æ–≤.`);
       vk.api.messages.send({user_id: enemy.id, message: `üî´–ù–∞ –≤–∞—Å –±—ã–ª–æ —Å–æ–≤–µ—Ä—à–µ–Ω–æ –Ω–∞–ø–∞–¥–µ–Ω–∏–µ!
üìù–ò—Ç–æ–≥: –ü–æ–±–µ–¥–∞
üò´–í–∞—à–∏ –ø–æ—Ç–µ—Ä–∏: 
üîπ–í–æ–∏–Ω–æ–≤: ${utils.sp(hepot)}

üôã–ü–æ—Ç–µ—Ä–∏ –≤—Ä–∞–≥–∞: 
üîπ–í–æ–∏–Ω–æ–≤: ${utils.sp(mypot)}
üîπ–ö—É–±–∫–æ–≤: ${cups_win}

üèÜ–í–∞—à–∏ –Ω–∞–≥—Ä–∞–¥—ã:
üîπ–ö—É–±–∫–æ–≤: ${cups_win}
‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ
üîπ–£ —Å–æ–ø–µ—Ä–Ω–∏–∫–∞ –±—ã–ª–æ: ${utils.sp(i.warriors)} –≤–æ–∏–Ω–æ–≤.
üîπ–í–∞–º –Ω–∞–ª–æ–∂–µ–Ω —â–∏—Ç –Ω–∞ 12 —á–∞—Å–æ–≤!`});
        i.cups -= cups_win;
        i.cups = (i.cups < 0) ? 0: i.cups;
        enemy.cups += cups_win;
        }
        i.warriors -= mypot;
        enemy.warriors -= hepot;
	});

cmd.on(/^(?:üî´–í–æ–∏–Ω—ã|–í–æ–∏–Ω—ã)\s([^]+)$/i, async (message, bot) => {
const count = repl(message.args[1]);
if(!Number(count)) return message.send("üìõ| –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —á–∏—Å–ª–æ–º!");
count = Number(fix(count));
if(i.warriors+count > i.armia.count) return message.send("üìõ| –ù–µ —Ö–≤–∞—Ç–∞–µ—Ç –º–µ—Å—Ç –≤ –∞—Ä–º–∏–∏!");
if(i.gg < count*100) return message.send("üìõ| –î–ª—è –Ω–∞–π–º–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è: "+utils.sp(count*100)+" –≥–æ–ª–¥—ã");
i.gg -= count*100;
i.warriors += count;
return message.send("üî´–í–æ–∏–Ω—ã —É—Å–ø–µ—à–Ω–æ –Ω–∞–Ω—è—Ç—ã!");
});

cmd.on(/^(?:üçé–§–µ—Ä–º–µ—Ä—ã|–§–µ—Ä–º–µ—Ä—ã|üçé)$/i, async (message) => {
var count = repl(message.args[1]);
if(!Number(count)) return message.send("üìõ| –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —á–∏—Å–ª–æ–º!");
count = Number(fix(count));
if(i.fermers+count > i.sad.count) return message.send("üìõ| –ù–µ —Ö–≤–∞—Ç–∞–µ—Ç –º–µ—Å—Ç –≤ —Å–∞–¥—É!");
if(i.gg < count*100) return message.send("üìõ| –î–ª—è –Ω–∞–π–º–∞ —Ç—Ä–µ–±—É–µ—Ç—Å—è: "+utils.sp(count*100)+"–≥–æ–ª–¥—ã");
i.gg -= count*100;
i.fermers += count;
return message.send("üçé –§–µ—Ä–º–µ—Ä—ã —É—Å–ø–µ—à–Ω–æ –Ω–∞–Ω—è—Ç—ã!");
});

function fix(num) {
num = Number(num)
num = num.toFixed(0)
num = Number(num)
return [num]
}

function repl(num){
	var sjop = num.replace(/(k|K|–ö|–∫)/ig, "000")
   sjop = sjop.replace(/(–≤—Å–µ|–í—Å–µ|–í—Å—ë|–≤—Å—ë)/ig, i.gg)
   sjop = (sjop < 1) ? 1: sjop;
	return [sjop]
}; 


cmd.on(/^(?:–û—Å–Ω–æ–≤–Ω—ã–µ)$/i, async (message) => {
message.user.flooder += 1;
return message.send(`
üìä –ò–Ω—Ñ–æ - –≤–∞—à –ø—Ä–æ—Ñ–∏–ª—å
üí¥ –ë–∞–ª–∞–Ω—Å - –≤–∞—à–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ.
‚õè –®–∞—Ö—Ç–∞ - –ù–∞–∫–æ–ø–∞—Ç—å —Ä—É–¥—ã
üçÄ –≠–∫—Å–ø–µ–¥–∏—Ü–∏—è - –æ—Ç–ø—Ä–∞–≤–∏—Ç—å—Å—è –≤ –ø–æ—Ö–æ–¥
üí∞ –ë–æ–Ω—É—Å - –ï–∂–µ—á–∞—Å–Ω—ã–π –±–æ–Ω—É—Å
ü§ù –û–±–º–µ–Ω—è—Ç—å [–ö–æ–ª-–≤–æ] - –æ–±–º–µ–Ω –∏–∑—É–º—Ä—É–¥–æ–≤ –Ω–∞ –≥–æ–ª–¥—É
üçó –ï–¥–∞ - –∫–æ–º–∞–Ω–¥—ã –¥–ª—è –µ–¥—ã
üíº –ü—Ä–æ–¥–∞—Ç—å [–ü—Ä–µ–¥–º–µ—Ç] - –ø—Ä–æ–¥–∞—Ç—å –≤–µ—â–∏
üèÜ –¢–æ–ø - —Å–ø–∏—Å–æ–∫ –ª—É—á—à–∏—Ö –∏–≥—Ä–æ–∫–æ–≤
üëî –õ—é–¥–∏ - –∂–∏—Ç–µ–ª–∏ –ø–æ—Å–µ–ª–µ–Ω–∏—è
‚õ™ –î–µ—Ä–µ–≤–Ω—è - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–µ—Ä–µ–≤–Ω–∏
üî® –î—É–ª—É—á—à–∏—Ç—å - —É–ª—É—á—à–∏—Ç—å –¥–µ—Ä–µ–≤–Ω—é
üë®‚Äçüåæ –§–µ—Ä–º–µ—Ä—ã - –≤–∞—à–∏ —Ñ–µ—Ä–º–µ—Ä—ã
üåç –°–∞–¥ - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–∞–¥–µ
üöÄ –°—É–ª—É—á—à–∏—Ç—å - —É–ª—É—á—à–∏—Ç—å —Å–∞–¥
üèù –ó–¥–∞–Ω–∏—è - –≤–∞—à–∏ –∑–¥–∞–Ω–∏—è
üë§ –ê—Ä–º–∏—è - –≤–∞—à–∞ –∞—Ä–º–∏—è
üë• –ê—Ä–º–∏—è–£ - —É–ª—É—á—à–∏—Ç—å –∞—Ä–º–∏—é
üó° –≤–æ–∏–Ω—ã - –Ω–∞–Ω—è—Ç—å –≤–æ–∏–Ω–æ–≤
‚öî –í–æ–π–Ω–∞ - –Ω–∞–ø–∞—Å—Ç—å –Ω–∞ –¥–µ—Ä–µ–≤–Ω—é
üîé –ü–æ–∏—Å–∫ - –ø–æ–∏—Å–∫ –±–∞–∑—ã –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∞
üîë –ê—Ç–∞–∫–∞ - –∞—Ç–∞–∫–æ–≤–∞—Ç—å –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∞`);
});

cmd.on(/^(?:–ö–ª–∞–Ω–æ–≤—ã–µ)$/i, async (message) => {
message.user.flooder += 1;
return message.send(`
‚†Ä1‚É£ –ö–ª–∞–Ω - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–ª–∞–Ω–µ
‚†Ä2‚É£ –ö–ª–∞–Ω —É–ª—É—á—à–∏—Ç—å - —É–ª—É—á—à–∏—Ç—å –∫–ª–∞–Ω
‚†Ä3‚É£ –ö–ª–∞–Ω —Å–æ—Å—Ç–∞–≤ - —É—á–∞—Å—Ç–Ω–∏–∫–∏ –∫–ª–∞–Ω–∞
‚†Ä4‚É£ –ö–ª–∞–Ω —Å–æ–∑–¥–∞—Ç—å [–Ω–∞–∑–≤–∞–Ω–∏–µ] - —Å–æ–∑–¥–∞—Ç—å –∫–ª–∞–Ω
‚†Ä5‚É£ –ö–ª–∞–Ω –Ω–∞–∑–≤–∞–Ω–∏–µ [–Ω–∞–∑–≤–∞–Ω–∏–µ] - —Å–º–µ–Ω–∞ –Ω–∞–∑–≤–∞–Ω–∏—è –∫–ª–∞–Ω–∞
‚†Ä6‚É£ –ö–ª–∞–Ω –º–µ—Ç–∫–∞ [–º–µ—Ç–∫–∞] - —Å–∏–º–≤–æ–ª –∫–ª–∞–Ω–∞
‚†Ä7‚É£ –ö–ª–∞–Ω –æ—Ç–∫—Ä—ã—Ç—å - –æ—Ç–∫—Ä—ã—Ç—å –∫–ª–∞–Ω –¥–ª—è –≤—Å—Ç—É–ø–ª–µ–Ω–∏–π üîì
‚†Ä8‚É£ –ö–ª–∞–Ω –∑–∞–∫—Ä—ã—Ç—å - –∑–∞–∫—Ä—ã—Ç—å –∫–ª–∞–Ω –¥–ª—è –≤—Å—Ç—É–ø–ª–µ–Ω–∏–π üîí
‚†Ä9‚É£ –ö–ª–∞–Ω [–ø–æ–ø–æ–ª–Ω–∏—Ç—å/—Å–Ω—è—Ç—å] [—Å—É–º–º–∞] - –∫–∞–∑–Ω–∞ –∫–ª–∞–Ω–∞
‚†Ä1‚É£0‚É£ –ö–ª–∞–Ω –∞—Ç–∞–∫–∞ - –∞—Ç–∞–∫–æ–≤–∞—Ç—å –¥—Ä—É–≥–æ–π –∫–ª–∞–Ω
‚†Ä1‚É£1‚É£ –ö–ª–∞–Ω –ø–æ–≤—ã—Å–∏—Ç—å [id] - –ø–æ–≤—ã—Å–∏—Ç—å –∑–≤–∞–Ω–∏–µ –∏–≥—Ä–æ–∫—É
‚†Ä1‚É£2‚É£ –ö–ª–∞–Ω –ø–æ–Ω–∏–∑–∏—Ç—å [id] - –ø–æ–Ω–∏–∑–∏—Ç—å –∑–≤–∞–Ω–∏–µ –∏–≥—Ä–æ–∫—É
‚†Ä1‚É£3‚É£ –ö–ª–∞–Ω –∫–∏–∫ [id] - –≤—ã–≥–Ω–∞—Ç—å –∏–≥—Ä–æ–∫–∞
‚†Ä1‚É£4‚É£ –ö–ª–∞–Ω –≤–æ–π—Ç–∏ [id –∫–ª–∞–Ω–∞] - –≤—Å—Ç—É–ø–∏—Ç—å –≤ –∫–ª–∞–Ω
‚†Ä1‚É£5‚É£ –ö–ª–∞–Ω –ø–æ–∫–∏–Ω—É—Ç—å - –ø–æ–∫–∏–Ω—É—Ç—å –∫–ª–∞–Ω`);
});

cmd.on(/^(?:–ò–≥—Ä—ã)$/i, async (message) => {
message.user.flooder += 1;
return message.send(`
üéÜ –°–∫—Ä–∏–Ω [—Å—Å—ã–ª–∫–∞] - –°–¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–Ω—à–æ—Ç —Å–∞–π—Ç–∞
üîñ QR [–°—Å—ã–ª–∫–∞/–¢–µ–∫—Å—Ç] - –°–≥–µ–Ω–∏—Ä–∏—Ä—É–µ—Ç –≤–∞–º QR-–∫–æ–¥
‚è≥ –ù–∞–ø–æ–º–Ω–∏ [—Ñ—Ä–∞–∑–∞] [–º–∏–Ω—É—Ç—ã] - –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ.
üíâ –°–ª–∞–π–º [—Ç–µ–∫—Å—Ç] - –æ–±—â–µ–Ω–∏–µ —Å –±–æ—Ç–æ–º.
‚è∞ –í—Ä–µ–º—è - –ü–æ–∫–∞–∂–µ—Ç –≤—Ä–µ–º—è –ø–æ –ú–°–ö
üì± –û–Ω–ª–∞–π–Ω - —Å–ø–∏—Å–æ–∫ –æ–Ω–ª–∞–π–Ω–∞
üé∞ –ö–∞–∑–∏–Ω–æ [—Å—É–º–º–∞] - –∏—Å–ø—ã—Ç–∞–π —É–¥–∞—á—É`);
});


cmd.on(/^(?:time|–í—Ä–µ–º—è)$/i, async (message) => {
	message.user.foolder += 1;
			let date = new Date();
			let days = date.getDate();
			let hours = date.getHours();
			let minutes = date.getMinutes();
			let seconds = date.getSeconds();
			if (hours < 10) hours = "0" + hours;
			if (minutes < 10) minutes = "0" + minutes;
			if (seconds < 10) seconds = "0" + seconds;

			return message.send("\n&#8986; –¢–æ—á–Ω–æ–µ –≤—Ä–µ–º—è –ø–æ –ú–°–ö &#8986;\n &#10134; &#10134; &#10134;" + hours + ":" + minutes + ":" + seconds + "&#10134; &#10134; &#10134;");
		});

cmd.on(/^(?:–Ω–∞–ø–æ–º–Ω–∏)\s?(.*)\s([0-999]+)/i, (message) => {
    let i = Number(message.args[2])
    let time = i * 60000;

    setTimeout(() => {
        vk.api.call('messages–∞.send', {
            peer_id: message.user.id,
            message: `‚è≥ –ù–ê–ü–û–ú–ò–ù–ê–ù–ò–ï ‚è≥\n\n-------------------------------\n–í–∞–º –Ω—É–∂–Ω–æ: ${message.args[1]}\n-------------------------------`,
            random_id: 0
        });
    }, time);
    return message.send(`‚è≥ –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–æ.`)
});

cmd.on(/^(?:qr)\s(.*)/i, async (message) => {
const qr = require('qr-image');
let qr_svg = qr.image(message.args[1], { type: 'png' });
qr_svg.pipe(require('fs').createWriteStream('oscrn.png'));
var svg_string = qr.imageSync(message.args[1], { type: 'png' });
message.sendPhoto(svg_string)
});

cmd.on(/^(?:–°–∫—Ä–∏–Ω)\s(.*)/i, async(message) => {
    
 message.sendPhoto("http://mini.s-shot.ru/RU?" + message.args[1])
 })


cmd.on(/^(?:–∫–Ω–æ–ø–∫–∞)\s([^]+)$/i, async (message, bot) => {
		if(message.isChat) return bot(`–∫–æ–º–∞–Ω–¥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –≤ –õ–°. üîÅ`);
        if (message.chatId) 
        {
        let conver = convers.find(x=> x.cid === message.chatId);
        if (!conver)
        {
            convers.push({
                id: convers.length + 1,
                cid: message.chatId,
                buttoncount: 0,
                button: []
            });
            conver = convers.find(x=> x.cid === message.chatId);
        }

        if (message.args[1].toLowerCase() === "—É–¥–∞–ª–∏—Ç—å")
        {
        
            conver.buttoncount = 0;
            conver.button = [];
            return vk.api.messages.send({
                chat_id: message.chatId,
                message: `[id${message.user.id}|${message.user.tag}], –≤—ã –æ—á–∏—Å—Ç–∏–ª–∏ –≤—Å–µ –∫–Ω–æ–ø–∫–∏!
				üîÅ –î–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ: –ö–Ω–æ–ø–∫–∞ [–¢–µ–∫—Å—Ç]
				&#10133; –ß—Ç–æ –±—ã —É–¥–∞–ª–∏—Ç—å –∫–Ω–æ–ø–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ: –ö–Ω–æ–ø–∫–∞ —É–¥–∞–ª–∏—Ç—å`,
                keyboard: Keyboard.keyboard([])
            });
        }

        if (conver.button.length >= 40) return bot(`[id${message.user.id}|${message.user.tag}], –≤–∞—à–µ –ø–æ–ª–µ –∑–∞–ø–æ–ª–Ω–µ–Ω–æ! (40/40)
		üîÅ –î–ª—è –æ—á–∏—Å—Ç–∫–∏ –ø–æ–ª—è –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ: –ö–Ω–æ–ø–∫–∞ —É–¥–∞–ª–∏—Ç—å`);

        conver.button.push(message.args[1]);

        await vk.api.messages.send({
            chat_id: message.chatId,
            message: `[id${message.user.id}|${message.user.tag}], –∫–Ω–æ–ø–∫–∞ —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∞!`,
            keyboard: generateKeyboard(conver.button)
        });
    }
    else
    {
        if (message.args[1].toLowerCase() === "—É–¥–∞–ª–∏—Ç—å")
        {
            message.user.buttoncount = 0;
            message.user.button = [];
            return vk.api.messages.send({
                peer_id: message.user.id,
				message: `[id${message.user.id}|${message.user.tag}], –≤—ã —É–¥–∞–ª–∏–ª–∏ –≤—Å–µ –∫–Ω–æ–ø–∫–∏!
				üîÅ –î–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ: –ö–Ω–æ–ø–∫–∞ [–¢–µ–∫—Å—Ç]
				&#10133; –ß—Ç–æ –±—ã –≤–∫–ª—é—á–∏—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã–Ω–µ –∫–Ω–æ–ø–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ: –ö–Ω–æ–ø–∫–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç`,
                keyboard: Keyboard.keyboard([])
            });
        }

        if (message.user.button == undefined)
            message.user.button = []
        message.user.button.push(message.args[1]);

        await vk.api.messages.send({
            peer_id: message.user.id,
			message: `[id${message.user.id}|${message.user.tag}], –∫–Ω–æ–ø–∫–∞ —É—Å–ø–µ—à–Ω–æ –¥–æ–±–∞–≤–ª–µ–Ω–∞!
			üîÅ –î–ª—è —É–¥–∞–ª–µ–Ω–∏—è –≤—Å–µ—Ö –∫–Ω–æ–ø–æ–∫ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ: –ö–Ω–æ–ø–∫–∞ —É–¥–∞–ª–∏—Ç—å
			&#10133; –ß—Ç–æ –±—ã –≤–∫–ª—é—á–∏—Ç—å —Å—Ç–∞–Ω–¥–∞—Ä—Ç—ã–Ω–µ –∫–Ω–æ–ø–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ: –°—Ç–∞–Ω–¥–∞—Ä—Ç –∫–Ω–æ–ø–∫–∞`,
            keyboard: generateKeyboard(message.user.button)
        });
    }
});

cmd.on(/(?:–ò–Ω—Ñ–æ)$/i, async (message) => {
	message.user.foolder += 1;

	let text = ``;

   text += `üë§ –ü—Ä–æ—Ñ–∏–ª—å: ${message.user.tag}\n`;
   text += `üîé ID: ${message.user.uid}\n`;	

   text += `üîã –≠–Ω–µ—Ä–≥–∏–∏: ${message.user.energy}\n`;

   text += `üèÜ –ö—É–±–∫–æ–≤: ${utils.sp(i.cups)}\n`
   text += `üçó –ï–¥–∞: ${utils.sp(i.food)}\n`

   text += `\n‚ôª –í–∞—Ä–Ω–æ–≤: ${message.user.warn}/3\n`;	
   text += `‚õî –ü—Ä–∏—á–∏–Ω–∞: ${message.user.warn_p}\n`;	

	if(message.user.foolder) text += `\n&#128228; –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–æ –∫–æ–º–∞–Ω–¥: ${message.user.foolder}\n`;	
				text +=`\nüéé –ü—Ä–∏–≥–ª–∞—à–µ–Ω–æ –¥—Ä—É–∑–µ–π: ${users.filter(x=> x.referal === message.user.uid).length}\n`; 
	return message.send(`${text}`,);
});

	cmd.on(/^(?:üí¥ –ë–∞–ª–∞–Ω—Å|–±–∞–ª–∞–Ω—Å)/i, (message) => { 
	message.user.foolder += 1;
	let text = ``;

			 text += `\n&#4448;üåï –ì–æ–ª–¥—ã: ${message.user.gg}\n`
    		text += `&#4448;&#128160; –ò–∑—É–º—Ä—É–¥–æ–≤: ${message.user.emeralds}\n`;
    		text += `&#4448;&#128488;  –£–≥–ª—è: ${message.user.coal}\n`;
     		text += `&#4448;&#11036; –ñ–µ–ª–µ–∑–∞: ${message.user.iron}\n`;
			text += `&#4448;&#128155; –ó–æ–ª–æ—Ç–æ: ${message.user.gold}\n`;
			text += `&#4448;&#128142; –ê–ª–º–∞–∑–æ–≤: ${message.user.donate}\n`; 
		return message.send(`${text}`,);
	});

cmd.on(/^(?:–ø—Ä–æ–¥–∞—Ç—å)\s(.*)\s?(.*)?$/i, async (message, bot) => {
	message.user.foolder += 1;
	let options = {
		count: null
	}

	message.args[2] = message.args[1].split(' ')[1];

	if(!message.args[2]) options.count = 1;
	if(message.args[2])
	{
		message.args[2] = message.args[2].replace(/(\.|\,)/ig, '');
		message.args[2] = message.args[2].replace(/(–∫|k)/ig, '000');
		message.args[2] = message.args[2].replace(/(–º|m)/ig, '000000');

		message.args[2] = Math.floor(Number(message.args[2]));
		if(message.args[2] <= 0) return;

		if(!message.args[2]) options.count = 1;
		else if(message.args[2]) options.count = message.args[2];
	}

	if(/—É–≥–æ–ª—å/i.test(message.args[1].toLowerCase()))
	{
		if(options.count > message.user.coal) return bot(`–Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —É–≥–ª—è`);
		const coals = utils.random(500);

		message.user.gg += coals;
		message.user.coal -= options.count;

		return bot(`–≤—ã –ø—Ä–æ–¥–∞–ª–∏ ${options.count} —É–≥–æ–ª—å –∑–∞ ${utils.sp(coals)}$`);
	}

	if(/–∂–µ–ª–µ–∑–æ/i.test(message.args[1].toLowerCase()))
	{
		if(options.count > message.user.iron) return bot(`–Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∂–µ–ª–µ–∑–∞`);
		const irons = utils.random(1000);

		message.user.gg += irons;
		message.user.iron -= options.count;

		return bot(`–≤—ã –ø—Ä–æ–¥–∞–ª–∏ ${options.count} —Å–ª–∏—Ç–æ–∫ –∂–µ–ª–µ–∑–∞ –∑–∞ ${utils.sp(irons)}$`);
	}

	if(/–∑–æ–ª–æ—Ç–æ/i.test(message.args[1].toLowerCase()))
	{
		if(options.count > message.user.gold) return bot(`–Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –∑–æ–ª–æ—Ç–∞`);
		const golds = utils.random(3500);

		message.user.gg += golds;
		message.user.gold -= options.count;

		return bot(`–≤—ã –ø—Ä–æ–¥–∞–ª–∏ ${options.count} —Å–ª–∏—Ç–æ–∫ –∑–æ–ª–æ—Ç–∞ –∑–∞ ${utils.sp(golds)}$`);
	}

	if(/–∏–∑—É–º—Ä—É–¥/i.test(message.args[1].toLowerCase()))
	{
		if(options.count > message.user.emeralds) return bot(`–Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —ç–º–µ—Ä–∞–ª—å–¥–∞`);
		const emeralds = utils.random(10000);

		message.user.gg += emeralds;
		message.user.emeralds -= options.count;

		return bot(`–≤—ã –ø—Ä–æ–¥–∞–ª–∏ ${options.count} –∏–∑—É–º—Ä—É–¥ –∑–∞ ${utils.sp(emeralds)}$`);
	}
});

cmd.on(/^(?:–í–∏–¥–µ–æ)$/i, async (message, bot) => {
	message.user.foolder += 1;
    function getVideo() {
        return user.api.call('wall.get', {owner_id: -151893995, count: 500, offset: 1})
        .then(response => {
        let item = utils.pick(response.items).attachments[0];
        return item.video ? `video${item.video.owner_id}_${item.video.id}` : getVideo();
    })
};
    let video = await getVideo();
    await message.reply({ attachment: video });	

});

cmd.on(/^(?:–±–æ–Ω—É—Å)$/i, async (message) => {
	message.user.foolder += 1;
	if(message.user.timers.bonus) return message.send(`üìõ –ó–∞–±–∏—Ä–∞—Ç—å –±–æ–Ω—É—Å –º–æ–∂–Ω–æ —Ä–∞–∑ –≤ —á–∞—Å.`);

	setTimeout(() => {
		message.user.timers.bonus = false;
	}, 3600000);

	message.user.timers.bonus = true;
		
	const ggg = utils.random(1900);
	const coals = utils.random(500);
	const irons = utils.random(150);
	const golds = utils.random(100);
	const emeralds = utils.random(20);
	
	message.user.gg += ggg;
	message.user.coal += coals;
	message.user.iron += irons;
	message.user.gold += golds;
	message.user.emeralds += emeralds;
		return message.send(`
		‚≠ê –ò–∑ –µ–∂–µ—á–∞—Å–Ω–æ–≥–æ –±–æ–Ω—É—Å–∞ –í–∞–º –≤—ã–ø–∞–ª–æ:\n
		‚è© ${utils.sp(ggg)} –≥–æ–ª–¥—ã
		‚è© ${utils.sp(coals)} —É–≥–ª—è
		‚è© ${utils.sp(irons)} –∂–µ–ª–µ–∑–∞
		‚è© ${utils.sp(golds)} –∑–æ–ª–æ—Ç–∞
		‚è© ${utils.sp(emeralds)} –∏–∑—É–º—Ä—É–¥–æ–≤
		`);

});

cmd.on(/^(?:–¥–æ–Ω–∞—Ç)$/i, async (message) => {
	message.user.foolder += 1;
	return message.send(`
üÜò –°—Ä–æ—á–Ω–æ –Ω—É–∂–Ω—ã —Ä–µ—Å—É—Ä—Å—ã?
üò≠ –ù–æ –Ω–µ—Ç—É –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ —Ñ–∞—Ä–º?
üçÄ –ö—É–ø–∏ —Ä–µ—Å—É—Ä—Å—ã –ø–æ –¥–µ—à—ë–≤–∫–µ!

üçÇStart-–ü–∞–∫–µ—Ç:
‚úÖ –¶–µ–Ω–∞: 20 —Ä—É–±.
‚è© 1000 –ì–æ–ª–¥—ã
‚è© 250 –£–≥–ª—è
‚è© 48 –ò–∑—É–º—Ä—É–¥–æ–≤
‚è© 197 –ñ–µ–ª–µ–∑–∞
‚è© 50 –ó–æ–ª–æ—Ç–∞
‚è© 5 –ê–ª–º–∞–∑–æ–≤

üíø Easy-–ü–∞–∫–µ—Ç
‚úÖ –¶–µ–Ω–∞: 40 —Ä—É–±.
‚è© 3000 –ì–æ–ª–¥—ã
‚è© 690 –£–≥–ª—è
‚è© 89 –ò–∑—É–º—Ä—É–¥–æ–≤
‚è© 467 –ñ–µ–ª–µ–∑–∞
‚è© 250 –ó–æ–ª–æ—Ç–∞
‚è© 15 –ê–ª–º–∞–∑–æ–≤

‚≠êGOLD-–ü–∞–∫–µ—Ç:
‚úÖ –¶–µ–Ω–∞: 60 —Ä—É–±.
‚è© 5000 –ì–æ–ª–¥—ã
‚è© 890 –£–≥–ª—è
‚è© 120 –ò–∑—É–º—Ä—É–¥–æ–≤
‚è© 1337 –ñ–µ–ª–µ–∑–∞
‚è© 2234 –ó–æ–ª–æ—Ç–∞
‚è© 40 –ê–ª–º–∞–∑–æ–≤

---- –ü—Ä–∏–≤–∏–ª–µ–≥–∏–∏ ----

	üòé–ü—Ä–∏–≤–∏–ª–µ–≥–∏—è: (VIP) - 25 —Ä—É–±–ª–µ–π:
	üîπ–ü–æ–ª—É—á–µ–Ω–∏–µ (5) –∞–ª–º–∞–∑–æ–≤ —Ä–∞–∑ –≤ —á–∞—Å.
	üîπ–ü—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–æ—Ñ–∏–ª–µ–π –∏–≥—Ä–æ–∫–æ–≤.
	üîπ–°–º–µ–Ω–∞ –Ω–∏–∫–∞.
	üî∏–ü–æ—Ç–µ—Ä–∏ –ø—Ä–∏ –ø–æ—Ä–æ–∂–µ–Ω–∏–∏(-50%)
	üî∏–û—Å–æ–±–∞—è –∏–∫–æ–Ω–∫–∞ –≤ —Ç–æ–ø–µ.

üìò –ü–æ–∫—É–ø–∞—Ç—å –¥–æ–Ω–∞—Ç —Å—Ç—Ä–æ–≥–æ —É –≤–ª–∞–¥–µ–ª—å—Ü–∞!

üìó vk.com/artem_newton | @artem_newton (–í–ª–∞–¥–µ–ª–µ—Ü)
	`);


});
 		


cmd.on(/^(?:–ó–æ–≤–∏ –º–µ–Ω—è)\s(.*)$/i, async (message) => {
	message.user.foolder += 1;
	if(message.args[1].length >= 16) return message.send(`–º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ –Ω–∏–∫–∞ 15 —Å–∏–º–≤–æ–ª–æ–≤`);

	message.user.tag = message.args[1];
	return message.send(`ü§òüèª –¢–µ–ø–µ—Ä—å, —è –±—É–¥—É –Ω–∞–∑—ã–≤–∞—Ç—å –≤–∞—Å: ${message.user.tag}`);
});


//// –†–ï–§–ï–†–ê–õ–ö–ê ////


//// –†–ï–§–ï–†–ê–õ–ö–ê ////

cmd.on(/^(?:—Ç–æ–ø)$/i, async (message, bot) => {
		message.user.foolder += 1;
	let top = [];

	users.map(x=> {
		top.push({ gg: x.gg, tag: x.tag, id: x.id, mention: x.mention });
	});

	top.sort((a, b) => {
		return b.gg - a.gg;
	});

	let text = ``;
	const find = () => {
		let pos = 1000;

		for (let i = 0; i < top.length; i++)
		{
			if(top[i].id === message.senderId) return pos = i;
		}

		return pos;
	}

	for (let i = 0; i < 10; i++)
	{
		if(!top[i]) return;
		const user = top[i];

		text += `${i === 9 ? `&#128287;` : `${i + 1}&#8419;`} @id${user.id} (${user.tag}) \nüèÜ –ì–æ–ª–¥—ã: ${utils.sp(user.gg)}
		`;
	}

	return message.send(`–õ—É—á—à–∏–µ –∏–≥—Ä–æ–∫–∏:
		${text}
`);
});

  ///////////////////////////////////////

  	  cmd.on(/^(?:–æ–±–º–µ–Ω—è—Ç—å)\s?([0-9]+)?/i, message => {
			message.user.foolder += 1;
		if(!message.args[1] || !Number(message.args[1])) return message.send(`üçÄ –£–∫–∞–∂–∏—Ç–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∏–∑—É–º—Ä—É–¥–æ–≤.`);
		if(user.emeralds < message.args[1]) return message.send(`üçÄ –£ –≤–∞—Å –Ω–µ—Ç —Å—Ç–æ–ª—å–∫–æ –∏–∑—É–º—Ä—É–¥–æ–≤.`)
		message.user.gg += Number(message.args[1] * 2);
		message.user.emeralds -=  Number(message.args[1]);
		return message.send(`üçÄ –í—ã —É—Å–ø–µ—à–Ω–æ –æ–±–º–µ–Ω—è–ª–∏ ${message.args[1]} –∏–∑—É–º—Ä—É–¥–æ–≤ –Ω–∞ ${message.args[1] * 2} –≥–æ–ª–¥—ã`);
	});



// admin //
cmd.on(/^(?:cmd|–∞–¥–º–∏–Ω–∫–∞)$/i, async (message, bot) => {

	var adm = [`üèÜ`,`üîë`,`‚úÖ`,`üí©`,`üë®‚Äçüíª`,`üëÆ‚Äç‚ôÇ`,`üçÑ`,`üéæ`,`üé±`,`üåÆ`,`ü•ù`,`üçû`].random();
	var dev = [`üåπ`,`üÜò`,`üêí`,`üí©`,`üë®‚Äçüíª`,`üëÆ‚Äç‚ôÇ`,`üçÑ`,`üéæ`,`üé±`,`üåÆ`,`ü•ù`,`üçû`].random();

if(message.user.post < 1) return bot(`‚ùå –¢–µ–±–µ —Å—é–¥–∞ –Ω–µ–ª—å–∑—è ‚ùå`);
	    if (message.user.post == 1) {
	        return message.send(`
					‚òë ¬ª VIP-–ü–∞–Ω–µ–ª—å ¬´ ‚òë 
	üöÇ Dgive - –ø–æ–ª—É—á–∏—Ç—å üíé.
	üöÇ Get [id] - –ø—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–æ—Ñ–∏–ª—è –∏–≥—Ä–æ–∫–∞.
	üöÇ Myname [–∏–º—è] - —Å–º–µ–Ω–∞ –Ω–∏–∫–∞..
`);
	    }
	    if (message.user.post == 4) {
	        return message.send(`
					‚òë ¬ª TEX ADM ¬´ ‚òë
	${adm} –û—Ç–≤–µ—Ç [id] [—Ç–µ–∫—Å—Ç] - –≤—ã–¥–∞—á–∞ –≤–∞–ª—é—Ç—ã.
    ${adm} Mgive [id] [count] - –≤—ã–¥–∞—á–∞ –≤–∞–ª—é—Ç—ã.
    ${adm} Mdell [id] [count] - —É–¥–∞–ª–µ–Ω–∏–µ –≤–∞–ª—é—Ç—ã.
	${adm} Ban [id] - –±–∞–Ω –∏–≥—Ä–æ–∫–∞.
	${adm} Unban [id] - —Ä–∞–∑–±–∞–Ω –∏–≥—Ä–æ–∫–∞.
	${adm} Dgive - –ø–æ–ª—É—á–∏—Ç—å üíé.
	${adm} Get [id] - –ø—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–æ—Ñ–∏–ª—è –∏–≥—Ä–æ–∫–∞.
	${adm} Myname [–∏–º—è] - —Å–º–µ–Ω–∞ –Ω–∏–∫–∞.
	${adm} —Å–æ–∑–¥–∞—Ç—å - —Å–æ–∑–¥–∞—Ç—å –ø—Ä–æ–º–æ–∫–æ–¥ + –ø–æ—Å—Ç
	${adm} –∫–æ–¥—ã - —Å–ø–∏—Å–æ–∫ –∫–æ–¥–æ–≤
	${adm} —É–¥–∞–ª–∏—Ç—å [–ø—Ä–æ–º–æ] - —É–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–æ–º–æ–∫–æ–¥–∞
	${adm} warn [ID] - –≤—ã–¥–∞—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ.
	${adm} unwarn [ID] - —Å–Ω—è—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ.–∞
`);
	
			}
        	 if (message.user.post == 5) {
	        return message.send(`
    ${dev} Setpost [id] [num] - –≤—ã–¥–∞—á–∞ –ø—Ä–∞–≤.
	${dev} –†–∞–∑–¥–∞—á–∞ - –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ä–∞–∑–¥–∞—á—É.
	${dev} givestart [id] - –í—ã–¥–∞—Ç—å "Start-–ü–∞–∫–µ—Ç"
	${dev} giveeasy [id] - –í—ã–¥–∞—Ç—å "Easy-–ü–∞–∫–µ—Ç"
	${dev} givegold [id] - –í—ã–¥–∞—Ç—å "GOLD-–ü–∞–∫–µ—Ç"
	${dev} –û—Ç–≤–µ—Ç [id] [—Ç–µ–∫—Å—Ç] - –≤—ã–¥–∞—á–∞ –≤–∞–ª—é—Ç—ã.
    ${dev} Mgive [id] [count] - –≤—ã–¥–∞—á–∞ –≤–∞–ª—é—Ç—ã.
    ${dev} Mdell [id] [count] - —É–¥–∞–ª–µ–Ω–∏–µ –≤–∞–ª—é—Ç—ã.
	${dev} Ban [id] - –±–∞–Ω –∏–≥—Ä–æ–∫–∞.
	${dev} Unban [id] - —Ä–∞–∑–±–∞–Ω –∏–≥—Ä–æ–∫–∞.
	${dev} Dgive - –ø–æ–ª—É—á–∏—Ç—å üíé.
	${dev} Get [id] - –ø—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–æ—Ñ–∏–ª—è –∏–≥—Ä–æ–∫–∞.
	${dev} Myname [–∏–º—è] - —Å–º–µ–Ω–∞ –Ω–∏–∫–∞.
	${dev} —Å–æ–∑–¥–∞—Ç—å - —Å–æ–∑–¥–∞—Ç—å –ø—Ä–æ–º–æ–∫–æ–¥ + –ø–æ—Å—Ç
	${dev} –∫–æ–¥—ã - —Å–ø–∏—Å–æ–∫ –∫–æ–¥–æ–≤
	${dev} —É–¥–∞–ª–∏—Ç—å [–ø—Ä–æ–º–æ] - —É–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–æ–º–æ–∫–æ–¥–∞
	${dev} warn [ID] - –≤—ã–¥–∞—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ.
	${dev} unwarn [ID] - —Å–Ω—è—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ.–∞
	${dev} Dgive - –ø–æ–ª—É—á–∏—Ç—å üíé.
	${dev} Get [id] - –ø—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–æ—Ñ–∏–ª—è –∏–≥—Ä–æ–∫–∞.
	${dev} Myname [–∏–º—è] - —Å–º–µ–Ω–∞ –Ω–∏–∫–∞..
`);
	    }
	});

		cmd.on(/^(?:Mgive)\s([^]+)\s([^]+)$/i, async (message, bot) => {
	if(i.post < 4) return message.send("üìõ| –î–æ—Å—Ç—É–ø –∑–∞–∫—Ä—ã—Ç!");
	if(users[message.args[1]] == undefined) return message.send("üìõ| –î–∞–Ω–Ω–æ–≥–æ –∏–≥—Ä–æ–∫–∞ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç!");
	var sym79 = repl(message.args[2]);
	if(!Number(sym79)) return message.send("üìõ| –°—É–º–º–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —á–∏—Å–ª–æ–≤–∞—è!");
	sym79 = Number(fix(sym79));
	users[message.args[1]].gg += sym79;
	message.send("üí≤–í–∞–ª—é—Ç–∞ –∏–≥—Ä–æ–∫—É —É—Å–ø–µ—à–Ω–æ –Ω–∞—á–∏—Å–ª–µ–Ω–∞!");
	});
	
	cmd.on(/^(?:Mdell)\s([^]+)\s([^]+)$/i, async (message, bot) => {
	if(i.post < 4) return message.send("üìõ| –î–æ—Å—Ç—É–ø –∑–∞–∫—Ä—ã—Ç!");
	if(users[message.args[1]] == undefined) return message.send("üìõ| –î–∞–Ω–Ω–æ–≥–æ –∏–≥—Ä–æ–∫–∞ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç!");
	var sym79 = repl(message.args[2]);
	if(!Number(sym79)) return message.send("üìõ| –°—É–º–º–∞ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —á–∏—Å–ª–æ–≤–∞—è!");
	sym79 = Number(fix(sym79));
	users[message.args[1]].gg -= sym79;
	users[message.args[1]].gg = (users[message.args[1]].gg < 0) ? 0: users[message.args[1]].gg;
	message.send("üí≤–í–∞–ª—é—Ç–∞ –∏–≥—Ä–æ–∫–∞ —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–µ–Ω–∞!");
	});
	
	cmd.on(/^(?:Setpost)\s([^]+)\s([^]+)$/i, async (message, bot) => {
	if(i.post < 5) return message.send("üìõ| –î–æ—Å—Ç—É–ø –∑–∞–∫—Ä—ã—Ç!");
	if(users[message.args[1]] == undefined) return message.send("üìõ| –î–∞–Ω–Ω–æ–≥–æ –∏–≥—Ä–æ–∫–∞ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç!");
	if(message.args[2] < 0 || message.args[2] > 4) return message.send("üìõ| –ü—Ä–∞–≤–∞ –Ω–µ –º–æ–≥—É—Ç –±—ã—Ç—å –º–µ–Ω—å—à–µ 0 –∏ –±–æ–ª—å—à–µ 4!");
	 users[message.args[1]].post = Number(message.args[2]);
	message.send("üëë–ò–≥—Ä–æ–∫—É –≤—ã–¥–∞–Ω—ã –Ω–æ–≤—ã–µ –ø—Ä–∞–≤–∞!");
	});


cmd.on(/^(?:eval|!|zz)\s([^]+)$/i, async (message, bot) => {
		message.user.foolder += 1;
	if(message.senderId !== 593863583| message.senderId !== 593863583) return;

	try {
		const result = eval(message.args[1]);

		if(typeof(result) === '')
		{
			return bot(` ${result}`);
		} else if(typeof(result) === '')
		{
			return bot(` ${result}`);
		} else {
			return bot(`${typeof(result)}: ${JSON.stringify(result, null, '&#12288;\t')}`);
		}
	} catch (e) {
		console.error(e);
		return bot(`–æ—à–∏–±–∫–∞:
		${e.toString()}`);
	}
});

cmd.on(/^(?:givestart)\s([0-9]+)$/i, async (message) => {
		message.user.foolder += 1;
	if(message.user.post < 5) return message.send(`–¥–æ—Å—Ç—É–ø–Ω–æ —Å –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏ - Admin.`);
		{
					let user = users.find(x=> x.uid === Number(message.args[1]));
 		if(!message.args[1]) return message.send(`üò∫ –í—ã –Ω–µ —É–∫–∞–∑–∞–ª–∏ –∏–≥—Ä–æ–≤–æ–π ID\n üÜò –ü—Ä–∏–º–µ—Ä –ö–æ–º–∞–Ω–¥—ã: givestart [ID]`);
		if(!user) return message.send(`üòÇ –Ω–µ–≤–µ—Ä–Ω—ã–π ID –∏–≥—Ä–æ–∫–∞`);

		if(user.uid === message.user.uid) return message.send(`üòÇ –Ω–µ–≤–µ—Ä–Ω—ã–π ID`);

		user.gg += 1000;
		user.coal += 250;
		user.iron += 197;
		user.gold += 50;
		user.emeralds += 48;
		user.donate += 5;
		vk.api.messages.send({ 
			user_id: user.id, 
			message: `
[üîî] [id${user.id}|${user.tag}], –≤–∞–º –±—ã–ª –≤—ã–¥–∞–Ω "Start-–ü–∞–∫–µ—Ç"
` }); 

	return message.send(`‚úÖ –í—ã –≤—ã–¥–∞–ª–∏ "Start-–ü–∞–∫–µ—Ç" –∏–≥—Ä–æ–∫—É "[id${user.id}|${user.tag}]"`);
}
	});

cmd.on(/^(?:giveeasy)\s([0-9]+)$/i, async (message) => {
		message.user.foolder += 1;
	if(message.user.post < 5) return message.send(`–¥–æ—Å—Ç—É–ø–Ω–æ —Å –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏ - Admin.`);
		{
					let user = users.find(x=> x.uid === Number(message.args[1]));
 		if(!message.args[1]) return message.send(`üò∫ –í—ã –Ω–µ —É–∫–∞–∑–∞–ª–∏ –∏–≥—Ä–æ–≤–æ–π ID\n üÜò –ü—Ä–∏–º–µ—Ä –ö–æ–º–∞–Ω–¥—ã: givestart [ID]`);
		if(!user) return message.send(`üòÇ –Ω–µ–≤–µ—Ä–Ω—ã–π ID –∏–≥—Ä–æ–∫–∞`);

		if(user.uid === message.user.uid) return message.send(`üòÇ –Ω–µ–≤–µ—Ä–Ω—ã–π ID`);

		user.gg += 3000;
		user.coal += 690;
		user.iron += 467;
		user.gold += 250;
		user.emeralds += 89;
		user.donate += 15;
		vk.api.messages.send({ 
			user_id: user.id, 
			message: `
[üîî] [id${user.id}|${user.tag}], –≤–∞–º –±—ã–ª –≤—ã–¥–∞–Ω "Start-–ü–∞–∫–µ—Ç"
` }); 

	return message.send(`‚úÖ –í—ã –≤—ã–¥–∞–ª–∏ "Start-–ü–∞–∫–µ—Ç" –∏–≥—Ä–æ–∫—É "[id${user.id}|${user.tag}]"`);
}
	});

cmd.on(/^(?:givegold)\s([0-9]+)$/i, async (message) => {
		message.user.foolder += 1;
	if(message.user.post < 5) return message.send(`–¥–æ—Å—Ç—É–ø–Ω–æ —Å –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏ - Admin.`);
		{
					let user = users.find(x=> x.uid === Number(message.args[1]));
 		if(!message.args[1]) return message.send(`üò∫ –í—ã –Ω–µ —É–∫–∞–∑–∞–ª–∏ –∏–≥—Ä–æ–≤–æ–π ID\n üÜò –ü—Ä–∏–º–µ—Ä –ö–æ–º–∞–Ω–¥—ã: givestart [ID]`);
		if(!user) return message.send(`üòÇ –Ω–µ–≤–µ—Ä–Ω—ã–π ID –∏–≥—Ä–æ–∫–∞`);

		if(user.uid === message.user.uid) return message.send(`üòÇ –Ω–µ–≤–µ—Ä–Ω—ã–π ID`);

		user.gg += 5000;
		user.coal += 890;
		user.iron += 1337;
		user.gold += 2234;
		user.emeralds += 120;
		user.donate += 40;
		vk.api.messages.send({ 
			user_id: user.id, 
			message: `
[üîî] [id${user.id}|${user.tag}], –≤–∞–º –±—ã–ª –≤—ã–¥–∞–Ω "Start-–ü–∞–∫–µ—Ç"
` }); 

	return message.send(`‚úÖ –í—ã –≤—ã–¥–∞–ª–∏ "Start-–ü–∞–∫–µ—Ç" –∏–≥—Ä–æ–∫—É "[id${user.id}|${user.tag}]"`);
}
	});

	cmd.on(/^(?:unwarn)\s?([0-9]+)?/i, async (message, args) => {
			message.user.foolder += 1;
		let user = users.find(x=> x.uid === Number(message.args[1]));
			if(message.user.post < 4) return message.send(`–¥–æ—Å—Ç—É–ø–Ω–æ —Å –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏ - Admin.`);
		if(!message.args[1]) return message.send(`üî∏ ¬ª –ü—Ä–∏–º–µ—Ä –∫–æ–º–∞–Ω–¥—ã: unwarn [ID]`);
		if(!Number(message.args[1])) return message.send(`üî∏ ¬ª –ß–∏—Å–ª–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Ü–∏—Ñ—Ä–æ–≤–æ–≥–æ –≤–∏–¥–∞.`);
		if(message.user.post < 4) return message.send(`üî∏ ¬ª –í—ã –Ω–µ –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä`);
		if(!users[message.args[1]]) return message.send(`‚ùé ¬ª –¢–∞–∫–æ–≥–æ –∏–≥—Ä–æ–∫–∞ –Ω–µ—Ç!`);

		users[message.args[1]].warn = 0; 
		users[message.args[1]].warn_p = `–ù–µ—Ç—É`;

		vk.api.call('messages.send', {
			peer_id: users[message.args[1]].id,
			message: `‚úÖ ¬ª –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä —Å–Ω—è–ª –í–∞–º –≤—Å–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è`
		}); 
		return message.send(`‚úÖ ¬ª –í—ã —Å–Ω—è–ª–∏ –≤—Å–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –∏–≥—Ä–æ–∫—É [${users[message.args[1]].tag}].`);
	});


cmd.on(/^(?:warn)\s?([0-9]+)?\s([^]+)?/i, async (message, args) => { 
			message.user.foolder += 1;
		let user = users.find(x=> x.uid === Number(message.args[1]));
	if(message.user.post < 4) return message.send(`–¥–æ—Å—Ç—É–ø–Ω–æ —Å –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏ - Admin.`);
		if(!message.args[1] || !message.args[2]) return message.send(`üî∏ ¬ª –ü—Ä–∏–º–µ—Ä –∫–æ–º–∞–Ω–¥—ã: warn [ID] [–ü–†–ò–ß–ò–ù–ê]`);
		if(!Number(message.args[1])) return message.send(`üî∏ ¬ª –ß–∏—Å–ª–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —Ü–∏—Ñ—Ä–æ–≤–æ–≥–æ –≤–∏–¥–∞.`);
		if(message.user.post < 4) return message.send(`üî∏ ¬ª –í—ã –Ω–µ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä`);
		if(!users[message.args[1]]) return message.send(`‚ùé ¬ª –¢–∞–∫–æ–≥–æ –∏–≥—Ä–æ–∫–∞ –Ω–µ—Ç!`);

		users[message.args[1]].warn += 1;  
        users[message.args[1]].warn_p = `${message.args[2]}`

		let text = `‚úÖ ¬ª ${user.tag}, –≤–∞–º –≤—ã–¥–∞–ª–∏ –≤–∞—Ä–Ω –ø–æ –ø—Ä–∏—á–∏–Ω–µ: [${message.args[2]}]`
		if(users[message.args[1]].warn == 3){
			users[message.args[1]].warn = 0;
			users[message.args[1]].ban = true; 
			text += `\nüî∏ ¬ª –£ –≤–∞—Å 3 –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è.\nüî∏ ¬ª –í–∞—à –∞–∫–∫–∞—É–Ω—Ç –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω.`
		}
		vk.api.call('messages.send', {
			peer_id: users[message.args[1]].id,
			message: text
		});
		return message.send(`‚úÖ ¬ª –í—ã –≤—ã–¥–∞–ª–∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –∏–≥—Ä–æ–∫—É [${users[message.args[1]].tag}].`);
	}); 


cmd.on(/^(?:ban)\s([0-9]+)$/i, async (message) => {
		message.user.foolder += 1;
	if(message.user.post < 4) return message.send(`–¥–æ—Å—Ç—É–ø–Ω–æ —Å –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏ - Admin.`);
		{
					let user = users.find(x=> x.uid === Number(message.args[1]));
		if(!user) return message.send(`–Ω–µ–≤–µ—Ä–Ω—ã–π ID –∏–≥—Ä–æ–∫–∞`);

		if(user.uid === message.user.uid) return message.send(`–Ω–µ–≤–µ—Ä–Ω—ã–π ID`);

		if(message.args[1] == 0) return message.send(`${user.tag}, –∫ —Å–æ–∂–∞–ª–µ–Ω–∏—é @oscrn (Pussy Boy) –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –≤—ã–¥–∞—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—É—é –±–ª–æ–∫–∏—Ä–æ–≤–∫—É.`);

		user.ban = true;
		vk.api.messages.send({ 
			user_id: user.id, 
			message: `
[üòµ] >> [id${user.id}|${user.tag}], –∫ —Å–æ–∂–∞–ª–µ–Ω–∏—é, –í—ã –∑–∞–±–∞–Ω–µ–Ω—ã. 
` }); 

	return message.send(`–í—ã —Å–º–æ–≥–ª–∏ –∑–∞–±–∞–Ω–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ( [id${user.id}|${user.tag}] )  –Ω–∞–≤–µ—á–Ω–æ.`);
}
	});

cmd.on(/^(?:unban)\s([0-9]+)$/i, async (message) => {
		message.user.foolder += 1;
	if(message.user.post < 4) return message.send(`–¥–æ—Å—Ç—É–ø–Ω–æ —Å –ø—Ä–∏–≤–∏–ª–µ–≥–∏–∏ - Admin.`);
		{
					let user = users.find(x=> x.uid === Number(message.args[1]));
		if(!user) return message.send(`–Ω–µ–≤–µ—Ä–Ω—ã–π ID –∏–≥—Ä–æ–∫–∞`);

		if(user.uid === message.user.uid) return message.send(`–Ω–µ–≤–µ—Ä–Ω—ã–π ID`);

		user.ban = false;
		vk.api.messages.send({ 
			user_id: user.id, 
			message: `
[üòú] >> [id${user.id}|${user.tag}], –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä —Ä–∞–∑–±–∞–Ω–∏–ª –≤–∞—à –∞–∫–∫–∞—É–Ω—Ç.
[‚ù§] || –í–ø—Ä–µ–¥—å –Ω–µ –Ω–∞—Ä—É—à–∞–π—Ç–µ –ø—Ä–∞–≤–∏–ª. ` }); 

	return message.send(`–£—Å–ø–µ—à–Ω–æ! –í—ã —Ä–∞–∑–±–∞–Ω–∏–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è -> (${user.tag})`);
}
	});

cmd.on(/^(?:–ü–æ–∏—Å–∫)\s(\shttps\:\/\/vk\.com\/)?(id)?([0-9]+)$/i, async (message) => { 
		message.user.foolder += 1;
	if (message.args[4]) {
				var domain = message.args[4].split(" ");}

let user = users.find(x=> x.id === Number(message.args[3]));

			let text = ``;	
	
	text +=  `${user.uid}\n`;
	return message.send(`
üëï ID: ${text} 





		`);
});

cmd.on(/^(?:–ø–æ—Å—Ç—Ä–∞—Å—Å—ã–ª–∫–∞)\s([^]+)$/i, async (message, bot) => {
message.user.foolder += 1;
 			if(message.user.post < 5) return;
 			 users.filter(x=> x.id !== 1).map(zz => { 
  vk.api.messages.send({ user_id: zz.id, message: `[üëÆ] >> –ë—ã—Å—Ç—Ä–æ –ø–æ—Å–º–æ—Ç—Ä–µ–ª –∑–∞–ø–∏—Å—å:`, attachment: `${message.args[2]}`}); 
 }); 
 			let people = 0;
        for(let id in users) {
            vk.api.call('messages.send', {
             chat_id: id,
              message: `[üëÆ] >> –ë—ã—Å—Ç—Ä–æ –ø–æ—Å–º–æ—Ç—Ä–µ–ª –∑–∞–ø–∏—Å—å:`,
              attachment: `wall-114070130_${response.post_id}` });
        }
        return message.send(`üí¨ || –Ø —É—Å–ø–µ—à–Ω–æ —Å–¥–µ–ª–∞–ª —Ä–∞—Å—Å—ã–ª–∫—É!`);
 
})

cmd.on(/^(?:—Å–æ–∑–¥–∞—Ç—å)\s?([0-9]+)?\s?([^\s	].*)?\s?([^\s	].*)?/i, async (message, bot) => {
	message.user.foolder += 1;
		if(message.user.post < 5) return bot(`–¥–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –†–∞–∑—Ä–∞–±—É!`);
		if(!message.args[1]) return message.reply(`[‚ú®] >> –ü—Ä–∏–º–µ—Ä - C–æ–∑–¥–∞—Ç—å (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–∞—Ü–∏–π) (—Å—É–º–º–∞)`);
		if(!message.args[2]) return message.reply(`[‚ú®] >> –ü—Ä–∏–º–µ—Ä - C–æ–∑–¥–∞—Ç—å (–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∞–∫—Ç–∏–≤–∞—Ü–∏–π) (—Å—É–º–º–∞)`);
		
	let answers = ['–û–ø–∞! –ù–æ–≤—ã–µ –ø—Ä–æ–º–æ–∫–æ–¥! –ë—ã—Å—Ç—Ä–µ–µ –∞–∫—Ç–∏–≤–∏—Ä—É–π –µ–≥–æ :3',
	'–ë—ã—Å—Ç—Ä–µ–µ –∞–∫—Ç–∏–≤–∏—Ä—É–π –ø—Ä–æ–º–æ, –∞ —Ç–æ –µ–≥–æ –¥—Ä—É–≥–∏–µ —Ä–∞–∑–±–µ—Ä—É—Ç!',
	'–î–µ—Ä–∂–∏ –ø—Ä–æ–º–æ–∫–æ–¥, –ø–æ–∫–∞ –µ–≥–æ –¥—Ä—É–≥–∏–µ –Ω–µ —Ä–∞–∑–æ–±—Ä–∞–ª–∏',
	'–ß—Ç–æ –Ω–∞—Å—á—ë—Ç –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–º–∞?)',
	'–´—ã—ã—ã—ã, –Ω–æ–≤—ã–π –ø—Ä–æ–º–æ–∫–æ–¥',
	'–ß–µ –Ω–µ —Å—Ç–∞–≤–∏—à—å –ª–∞–π–∫–∏?)',
	'–ö–†–Ø–Ø–Ø–Ø–Ø–Ø!!! –ù–æ–≤—ã–π –ø—Ä–æ–º–æ–∫–æ–¥ –Ω–∏–∂–µ ‚Üì‚Üì‚Üì']
	let rullka = ['–ó–∞ 50 –ª–∞–π–∫–æ–≤, —Å–¥–µ–ª–∞–µ–º —Ä–∞–∑–¥–∞—á—É –≤–∏–ø–æ–∫',
	'–ì–æ –∑–∞ 20 –ª–∞–π–∫–æ–≤, —è —Å–¥–µ–ª–∞—é –Ω–æ–≤–æ–µ –ö–†–£–¢–û–ï –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ?)',
	'–ù–∞–±—ë—Ä–µ–º 10 –ª–∞–π–∫–æ–≤, –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–≥–æ –ø—Ä–æ–º–æ?']

		let gg = parserInt(message.args[2]); 
		let activ = Number(message.args[1]);

		var result       = '';
		        var words        = '0123456789qwertyuiopasdfghjklzxcvbnmQWERTYUIOPASDFGHJKLZXCVBNM';
		        var max_position = words.length - 1;
		            for( i = 0; i < 8; ++i ) {
		                position = Math.floor ( Math.random() * max_position );
		                result = result + words.substring(position, position + 1);
		            }
		if(!promo[result]){
		            	promo[result] = {
		            		gg: Number(gg),
		            		activ: activ,
		            		users: {}
		            	}
		}else{
			return message.reply(`[Error] –ü–µ—Ä–µ—Å–æ–∑–¥–∞–π—Ç–µ –∫–æ–¥ –µ—â–µ —Ä–∞–∑.`);
		}
		 user.api.wall.post({
		owner_id: -114070130,
		message: `
		[‚ò∫] | ${utils.pick(answers)}
					üìù –ù–æ–≤—ã–π –ø—Ä–æ–º–æ–∫–æ–¥: –ü—Ä–æ–º–æ ${result}
			üóù –£—Å–ø–µ–π –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å,–≤—Å–µ–≥–æ ${activ} –∞–∫—Ç–∏–≤–∞—Ü–∏–π! –°—É–º–º–∞ –ø—Ä–æ–º–æ–∫–æ–¥–∞: ${spaces(gg)}
			[ü§¥] || ${utils.pick(rullka)}
        `
	})
		 users.filter(x=> x.id !== 1).map(zz => { 
  vk.api.messages.send({ user_id: zz.id, message: `üí∞ –ù–∞ —Å—Ç–µ–Ω–µ –≥—Ä—É–ø–ø—ã –Ω–æ–≤—ã–π –ø—Ä–æ–º–æ–∫–æ–¥ –Ω–∞ ${activ} –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–π!`}); 
 }); 
 			let people = 0;
        for(let id in users) {
            vk.api.call('messages.send', {
             chat_id: id,
              message: `üí∞ –ù–∞ —Å—Ç–µ–Ω–µ –≥—Ä—É–ø–ø—ã –Ω–æ–≤—ã–π –ø—Ä–æ–º–æ–∫–æ–¥ –Ω–∞ ${activ} –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–π!` });
        }

		return message.reply(`
			üìù –ë—ã–ª —Å–æ–∑–¥–∞–Ω –ø—Ä–æ–º–æ–∫–æ–¥ + –ø–æ—Å—Ç.
			`);

});

cmd.on(/^(?:–∫–æ–¥—ã)$/i, async (message) => {
		message.user.foolder += 1;
	if(message.user.post < 5) return;
	let text = `&#8195;&#8195;&#8195;&#8195;&#8195;&#8195;&#8195; - –°–ø–∏—Å–æ–∫ –ü—Ä–æ–º–æ–∫–æ–¥–æ–≤ - \n\n`;
	for(id in promo){
		if(promo[id].gg){
		text += `
		üìù >> –ü—Ä–æ–º–æ–∫–æ–¥ - ${id}
		üóù >> –û—Å—Ç–∞–ª–æ—Å—å –∞–∫—Ç–∏–≤–∞—Ü–∏–π –≤ —ç—Ç–æ–º –ø—Ä–æ–º–æ–∫–æ–¥–µ - ${promo[id].activ}
		üí∞ >> –ì–æ–ª–¥—ã - ${(promo[id].gg)}

‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ
		`
		}
	}
	return message.reply(text);
});

cmd.on(/^(?:—É–¥–∞–ª–∏—Ç—å)\s([^]+)$/i, async (message) => {
		message.user.foolder += 1;
	if(message.user.post < 5) return;
	if(!message.args[1]) return message.reply(`[ü§î] >> –Ø –≤—Å—ë –ø–æ–Ω–∏–º–∞—é, —á—Ç–æ —Ç—ã —É–∂–µ —á—Ç–æ-—Ç–æ –Ω–µ —Ç–æ –ø–∏—à–µ—à—å –º–Ω–µ, –Ω–æ –Ω–µ –Ω–∞–¥–æ –∑–∞–±—ã–≤–∞—Ç—å —Å–∞–º –ø—Ä–æ–º–æ–∫–æ–¥.`);
	if(!promo[message.args[1]]) return message.reply(`üòï || –≠—Ç–æ–≥–æ –ø—Ä–æ–º–æ–∫–æ–¥–∞ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç!\n\nü§î | –ü—Ä–æ–º–æ–∫–æ–¥ –≤—Å–µ —Ä–∞–≤–Ω–æ –µ—Å—Ç—å –≤ –±–æ—Ç–µ?\nüí¨ >> –ü–µ—Ä–µ–ø—Ä–æ–≤–µ—Ä—å—Ç–µ —Ç–æ–≥–¥–∞ –Ω–∞–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–º–æ–∫–æ–¥–∞! –î–∞–∂–µ –µ—Å–ª–∏ –í—ã –Ω–µ –ø–æ—Å—Ç–∞–≤–∏–ª–∏ –∑–∞–≥–ª–∞–≤–Ω—É—é –±—É–∫–≤—É –≤ –ø—Ä–æ–º–æ–∫–æ–¥–µ, —Ç–æ –±–æ—Ç —Ç–∞–∫–æ–≥–æ –ø—Ä–æ–º–æ–∫–æ–¥–∞ –∏ –Ω–µ –Ω–∞–π–¥–µ—Ç.`);
	delete promo[message.args[1]];
	return message.reply(`‚ö† || [id${message.user.id}|${message.user.tag}], –í—ã —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª–∏–ª–∏ –ø—Ä–æ–º–æ–∫–æ–¥ *${message.args[1]}*!\n‚õî >> –ï—Å–ª–∏ –í—ã —É–¥–∞–ª–∏–ª–∏ –ø—Ä–æ–º–æ–∫–æ–¥ –±–µ–∑ –Ω–∞–¥–æ–±–Ω–æ—Å—Ç–∏, —Ç–æ [oscrn|—Å–æ–∑–¥–∞—Ç–µ–ª—å] —Ç–µ–±—è —Å–∏–ª—å–Ω–æ –ø–æ—Ä—É–≥–∞–µ—Ç!\n\nüåö -> –°—Ä–∞–∑—É –≥–æ–≤–æ—Ä—é, —á—Ç–æ –ø—Ä–æ–º–æ–∫–æ–¥ –Ω–µ–ª—å–∑—è –±—É–¥–µ—Ç –≤–µ—Ä–Ω—É—Ç—å.`);

});

	var parserInt = (str) => parseInt(str.replace(/k|–∫/ig, "000"));

cmd.on(/^(?:–ü—Ä–æ–º–æ|–ü—Ä–æ–º–æ–∫–æ–¥|–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å)\s([^]+)$/i, async (message, bot) => {
	message.user.foolder += 1;

	if(!message.args[1]) return message.reply(`${message.user.tag}, –ø–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤–≤–µ–¥–∏—Ç–µ –∫–æ–¥. –ù–∞–ø—Ä–∏–º–µ—Ä:  \n –ü—Ä–æ–º–æ–∫–æ–¥ ${utils.pick(['oscrn', 'freemoney', 'W8IFE-VY3B21-U7PR5-LI3J7'])}`);
	let promos = message.args[1];
	if(!promo[message.args[1]]) return message.reply(`${message.user.tag}, —ç—Ç–æ–≥–æ –ø—Ä–æ–º–æ–∫–æ–¥–∞ –Ω–µ—Ç/–æ–Ω –±–æ–ª—å—à–µ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω.`);
	
	if(!promo[message.args[1]].users[message.senderId]){

		if(promo[promos].gg){ 
			let activ = promo[promos].activ - 1;
			if(!promo[promos].users[message.senderId]){
				promo[promos].users[message.senderId] = {
					activ: true
				}
			}
			message.user.gg += Number(promo[promos].gg);
			let coi = Number(promo[promos].gg);
			promo[promos].activ -= 1;
			if(promo[promos].activ == 0){
				delete promo[promos];
			}
			return message.reply(`[ü§ë] >> –í—ã –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–ª–∏ –ø—Ä–æ–º–æ–∫–æ–¥ –Ω–∞ ${spaces(coi)}$`);
		}
	}else{
		return message.reply(`[üò™] >> –ü—Ä–æ–º–æ–∫–æ–¥ –º–æ–∂–Ω–æ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –õ–ò–®–¨ –û–î–ò–ù –†–ê–ó!`);
	}
});

cmd.on(/^(?:cid)$/i, async (message, bot) => {
	message.user.foolder += 1;
if(!message.isChat) return bot(`–∫–æ–º–∞–Ω–¥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –≤ –±–µ—Å–µ–¥–µ!`);
		return message.send(`[üéâ] ¬ª ID —ç—Ç–æ–≥–æ —á–∞—Ç–∞: ${message.chatId}`);
	}); 

	cmd.on(/^(?:—Ä–µ–ø–æ—Ä—Ç)\s([^]+)$/i, async (message, bot) => {
vk.api.messages.send({user_id: users[0].id, message: "ID –∏–≥—Ä–æ–∫–∞: "+i.uid+"\n---\nüî∏–†–µ–ø–æ—Ä—Ç: "+message.args[1]+"\n‚Äî‚Äî‚Äî\nüîπ–î–ª—è –æ—Ç–≤–µ—Ç–∞ –ø–∏—à–∏—Ç–µ: –æ—Ç–≤–µ—Ç [id –∏–≥—Ä–æ–∫–∞] [–æ—Ç–≤–µ—Ç]"});
message.send("[üö©] -> –í—ã —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏–ª–∏ —Ä–µ–ø–æ—Ä—Ç!");
});

cmd.on(/^(?:–æ—Ç–≤–µ—Ç)\s([0-9]+)\s([^]+)$/i, async (message, bot) => {
if(i.post < 5) return message.send("üìõ| –î–æ—Å—Ç—É–ø –∑–∞–∫—Ä—ã—Ç!");
if(!users[message.args[1]]) return message.send("üìõ| –¢–∞–∫–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç!");
var upser = users[message.args[1]];
vk.api.messages.send({user_id: upser.id, message: "üëâ–í–∞–º –æ—Ç–≤–µ—Ç–∏–ª–∏ –Ω–∞ –≤–∞—à —Ä–µ–ø–æ—Ä—Ç!\nüîπ–û—Ç–≤–µ—Ç: "+message.args[2]});
message.send("[üëâ] -> –í—ã —É—Å–ø–µ—à–Ω–æ –æ—Ç–≤–µ—Ç–∏–ª–∏ –∏–≥—Ä–æ–∫—É!");
});

cmd.on(/^(?:–±–µ—Å–µ–¥—ã|—á–∞—Ç—ã|–±–æ—Ç—ã)$/i, async (message, bot) => { 
let text1 = ``; 
user.api.messages.getChat({ 
chat_id: 2027
}).then(async function (response) { 
text1 += `1&#8419; ${response.title} [${response.members_count}/500]\n> https://vk.me/join/AJQ1dwC96BYGlOyHYwhui3Ha`; 
return bot(`–Ω–∞—à–∏ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ –±–µ—Å–µ–¥—ã: 

${text1} 

üí¨ –ö–æ–ª-–≤–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–º —Ä–µ–∂–∏–º–µ`); 
}); 

 //------------------------------------------------------------------------------------\\
 	var uptime = { sec: 0, min: 0, hours: 0, days: 0 }
 //------------------------------------------------------------------------------------\\
 
	setInterval(() => {
		uptime.sec++;
		if (uptime.sec == 60) { uptime.sec = 0; uptime.min += 1; }
		if (uptime.min == 60) { uptime.min = 0; uptime.hours += 1; }
		if (uptime.hours == 24) { uptime.hours = 0; uptime.days += 1; }
	}, 1000);

//------------------------------------------------------------------------------------\\

function generateKeyboard(array) {
	let kb = [];
	if(array.length > 40) return false;

	/*for (let i = 0; i < 10; i += 1) {
		if(!array.slice(i * 4, i * 4 + 4)[0]) break;
		kb.push(array.slice(i * 4, i * 4 + 4));
	}*/
	
	/*let arr = [];
	kb.map((arr) => {
		arr.map((button, i) => {
			arr[i] = Keyboard.textButton({ label: button });
		});
	});*/
	let a = -1;
	for (let i = 0; i < array.length; i += 1) 
	{
		if(i%4==0)
		{
			a++;
			kb.push();
			kb[a] = [];
		}
		kb[a].push(Keyboard.textButton({ label: array[i], color: "default" }));
	}
	return Keyboard.keyboard(kb);
}

setInterval(async () => {
	users.map(user => {
		if(user.business)
		{
			const biz = businesses.find(x=> x.id === user.business);
			if(!biz) return;

			user.biz += biz.earn;
		}
	});
}, 3600000);

cmd.on(/^(?:–ï–¥–∞)$/i, async (message, bot) => {
return message.send(`üçó–ü–æ–∫—É–ø–∫–∞ –µ–¥—ã:
üí≤–¶–µ–Ω–∞ 1–µ–¥. –µ–¥—ã - 2 –≥–æ–ª–¥—ã
‚ûñ‚ûñ‚ûñ‚ûñ‚ûñ
üîπ–î–æ—Å—Ç—É–ø–µ–Ω —Ä—É—á–Ω–æ–π –≤–≤–æ–¥:
üçó| –ï–¥–∞ –∫—É–ø–∏—Ç—å [–∫–æ–ª-–≤–æ] - –ø–æ–∫—É–ø–∫–∞ –µ–¥—ã.`);
});

cmd.on(/^(?:–ï–¥–∞ –∫—É–ø–∏—Ç—å)\s([^]+)$/i, async (message, bot) => {
var count = repl(message.args[1]);
if(!Number(count)) return message.send("üìõ| –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —á–∏—Å–ª–æ–º!");
count = Number(repl(count));
if(i.gg < count*2) return message.send("üìõ| –î–ª—è –ø–æ–∫—É–ø–∫–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è: "+utils.sp(count*2)+"$!");
i.gg -= count*2;
i.food += count;
return message.send("üçó–í—ã —É—Å–ø–µ—à–Ω–æ –∫—É–ø–∏–ª–∏ –µ–¥—ã!");
});

cmd.on(/^(?:–ü—Ä–æ–¥–∞—Ç—å)$/i, async (message, bot) => {
return message.send(`[‚ùå] - –ü—Ä–æ–¥–∞–∂–∞ - [‚ùå]
üí≤| –¶–µ–Ω—ã –Ω–∞ –ø—Ä–æ–¥–∞–∂—É —Ä–µ—Å—É—Ä—Å–æ–≤:
üçï–ï–¥–∞ - 1 –≥–æ–ª–¥–∞/—à—Ç.`);
});


cmd.on(/^(?:–ï–¥–∞ –ø—Ä–æ–¥–∞—Ç—å)\s([^]+)$/i, async (message, bot) => {
var count = repl(message.args[1]);
if(!Number(count)) return message.send("üìõ| –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å —á–∏—Å–ª–æ–º!");
count = Number(fix(count));
if(i.food < count) return message.send("üìõ| –î–ª—è –ø—Ä–æ–¥–∞–∂–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è: "+utils.sp(count)+" –µ–¥—ã!");
i.gg += count;
i.food -= count;
return message.send("üçï–í—ã —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ–¥–∞–ª–∏ –µ–¥—É!");
});

cmd.on(/(?:–®–∞—Ö—Ç–∞|‚õè)$/i, async (message) => {
		message.user.foolder += 1;
		message.user.energy -= 1;		
	
if(message.user.energy < 0) return message.send(`–í—ã —Å–∏–ª—å–Ω–æ —É—Å—Ç–∞–ª–∏.
‚ö† –≠–Ω–µ—Ä–≥–∏—è –ø–æ—è–≤–ª—è–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ 5 –º–∏–Ω—É—Ç!`)

setTimeout(() => {
	message.user.energy += 1;
}, 300000);

	if(message.user.timers.mine) return message.send(`–ø—Ä–æ—Å—Ç–∏, –Ω–æ —Ç—ã —É–∂–µ —Ä–∞–±–æ—Ç–∞–ª(–∞) –Ω–∞ —à–∞—Ö—Ç–µ!
		–®–∞—Ö—Ç–∞ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–∞ –≤ —Ç–µ—á–µ–Ω–∏–∏ 1 –¥–Ω—è.`);

	setTimeout(() => {
		message.user.timers.mine = false;
	}, 86400000);

	message.user.timers.mine = true;

	const gg = utils.random(2000);
	const coals = utils.random(500);
	const irons = utils.random(150);
	const golds = utils.random(100);
	const emeralds = utils.random(20);

	message.user.gg += gg;
	message.user.coal += coals;
	message.user.iron += irons;
	message.user.gold += golds;	message.user.emeralds += emeralds;

	return message.send(`–í—ã –Ω–∞–∫–æ–ø–∞–ª–∏:
		üåï –ì–æ–ª–¥—ã: ${utils.sp(gg)}
			&#128488; –£–≥–ª—è: ${utils.sp(coals)}
		&#11036; –ñ–µ–ª–µ–∑–∞: ${utils.sp(irons)}
		&#128155; –ó–æ–ª–æ—Ç–æ: ${utils.sp(golds)}
		&#128160; –ò–∑—É–º—Ä—É–¥–æ–≤: ${utils.sp(emeralds)}`);
});

//-----------------------------------------------------\\

cmd.on(/^(?:–Ω–∞–∫—Ä—É—Ç–∏—Ç—å)$/i, async (message, bot) => {
	message.user.foolder += 1;
let user = message.user;
if(message.user.post < 5) return message.send(`üî∏‚û° –í—ã –Ω–µ –ê–¥–º–∏–Ω`);
if(!message.forwards[0]) return message.reply(`–ü–µ—Ä–µ—à–ª–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ.`);
let c = message.forwards[0].senderId;
let b = users.find(x=> x.id === Number(c));

if(message.args[1] == 0) return message.send(`${user.tag}, –∫ —Å–æ–∂–∞–ª–µ–Ω–∏—é —ç—Ç–æ–º—É –î–ê–õ–ë–ê–ï–ë–£ –Ω–µ–≤–æ–∑–º–æ–∂–Ω–æ –≤—ã–¥–∞—Ç—å –±–ª–æ–∫–∏—Ä–æ–≤–∫—É.`);

b.gg += 50000;
vk.api.messages.send({
user_id: user.id,
message: `` });
message.send(`
‚ö° ID: ${b.uid}
üéÅ –ù–∞–∫—Ä—É—Ç–∏–ª: 50.000 –≥–æ–ª–¥—ã
`);
});

// –î–õ–Ø –ë–ï–°–ï–î //

cmd.on(/^(?:–û–Ω–ª–∞–π–Ω)$/i, async (message, bot) => {
	message.user.foolder += 1;
if(!message.isChat) return bot(`–∫–æ–º–∞–Ω–¥–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ –≤ –±–µ—Å–µ–¥–µ!`);
vk.api.messages.getConversationMembers({
peer_id: message.peerId,
fields: "online, last_seen"
}).then(async function (response) {
let text = `üéñ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –æ–Ω–ª–∞–π–Ω:\n\n`;
await response.profiles.map(e => {
if(e.id < 1) return;
if(e.online != 0) text += `${e.last_seen.platform.toString().replace(/1/gi, "üì≤").replace(/2/gi, "üì±").replace(/3/gi, "üì±").replace(/4/gi, "üì±").replace(/5/gi, "üì±").replace(/6/gi, "üíª").replace(/7/gi, "üñ•")}  *id${e.id} (${e.first_name} ${e.last_name})\n`;
})
return message.reply(text)
})
});

// –î–æ–Ω–∞—Ç –ü–∞–Ω–µ–ª—å //


	cmd.on(/^(?:Get)\s([^]+)$/i, async (message, bot) => {
	if(i.post < 1) return message.send(nodonate(1));
	if(users[message.args[1]] == undefined) return message.send("üìõ| –¢–∞–∫–æ–≥–æ –∏–≥—Ä–æ–∫–∞ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç!");
	var he = users[message.args[1]];
	var dox607 = (he.works*5);
	var edox607 = (he.fermers*5);
	var erasx607 = (he.works)+(he.fermers*2)+(he.warriors*2);
	message.send(`
	‚öì–ü–µ—Ä—Å–æ–Ω–∞–∂: ${he.tag}
	‚öì–°—Ç–∞—Ç—É—Å: ${getr(he.post)}
	‚öì–ì–æ–ª–¥—ã: ${utils.sp(he.gg)}
	‚öì–ê–ª–º–∞–∑–æ–≤: ${utils.sp(he.donate)}
	‚öì–ö—É–±–∫–æ–≤: ${utils.sp(he.cups)}
	‚öì–ï–¥–∞: ${utils.sp(he.food)}
	
	‚öì–ñ–∏—Ç–µ–ª–µ–π: [${utils.sp(he.works)}/${utils.sp(he.derev.count)}]
	‚öì–§–µ—Ä–º–µ—Ä–æ–≤: [${utils.sp(he.fermers)}/${utils.sp(he.sad.count)}]
	‚öì–í–æ–∏–Ω–æ–≤: [${utils.sp(he.warriors)}/${utils.sp(he.armia.count)}]
	
	‚öì–î–µ—Ä–µ–≤–Ω—è - ${he.derev.level} —É—Ä–æ–≤–Ω—è.
	‚öì–°–∞–¥ - ${he.sad.level} —É—Ä–æ–≤–Ω—è.
	‚öì–ê—Ä–º–∏—è - ${he.armia.level} —É—Ä–æ–≤–Ω—è.
	
	‚öì–î–æ—Ö–æ–¥ ($): ${utils.sp(dox607)}/–º–∏–Ω.
	‚öì–î–æ—Ö–æ–¥ (–µ–¥—ã): ${utils.sp(edox607)}/–º–∏–Ω.
	‚öì–†–∞—Å—Ö–æ–¥ (–µ–¥—ã): ${utils.sp(erasx607)}/–º–∏–Ω.

	`);
	});

cmd.on(/^(?:—ç–∫—Å–ø–µ–¥–∏—Ü–∏—è)$/i, async (message, bot) => {
	let user = message.user
     let id = message.user.id
	if(user.vivi == true) return message.send(`‚è©${message.user.tag}, —ç–∫—Å–ø–µ–¥–∏—Ü–∏—é –º–æ–∂–Ω–æ –ø—Ä–æ–≤–æ–¥–∏—Ç—å —Ä–∞–∑ –≤ 3 —á–∞—Å–∞`);
 		user.vivi = true
		setTimeout(() => {
			user.vivi = false
			vk.api.call('messages.send', {
			peer_id: user.id,
			message: `‚è© ${message.user.tag}, –í—ã —Å–Ω–æ–≤–∞ –º–æ–∂–µ—Ç–µ –∏–¥—Ç–∏ –≤ —ç–∫—Å–ø–µ–¥–∏—Ü–∏—é"` 
		});
		}, 10800000);
		let sosalka = ['–≤–æ–∑–ª–µ –æ–∑–µ—Ä–∞',
	'–≤ —Å—É–º—Ä–∞—á–Ω–æ–º –ª–µ—Å—É',
	'–Ω–∞ –ø—Ä–æ–∫–ª—è—Ç–æ–º –±–æ–ª–æ—Ç–µ']
	let rez = [1,2].random();
	if(rez == 1){
  		let text = [].random(); 
       	const coals = utils.random(500);
	const ggg = utils.random(1000,2500);
	const emeralds = utils.random(20);

	message.user.coal += coals;
	message.user.gg += ggg;
	message.user.emeralds += emeralds;
		return message.send(`‚è© ${message.user.tag}, ${utils.pick(sosalka)} –±—ã–ª –Ω–∞–π–¥–µ–Ω —Ç–∞–π–Ω–∏–∫, –≤ –∫–æ—Ç—Ä–æ–º –±—ã–ª–æ:
		\n ‚è© ${utils.sp(ggg)} –ì–æ–ª–¥—ã
		\n ‚è© ${utils.sp(coals)} –£–≥–ª—è
		\n ‚è© ${utils.sp(emeralds)} –ò–∑—É–º—É—Ä–¥–æ–≤



		`);
   }
	if(rez == 2){
		let text = [].random(); 
		return message.send(`‚è© ${message.user.tag}, –≤–æ –≤—Ä–µ–º—è —ç–∫—Å–ø–µ–¥–∏—Ü–∏–∏ –≤—ã –Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞—à–ª–∏!`);
	}
});



setInterval(async () => {
	users.filter(x => x.home != false).map(x=> {
		var otn = (x.fermers*2)+(x.warriors*2)+x.works;
		var prmin = ((x.works+x.warriors+x.fermers)/20).toFixed(0);
		var prmax = ((x.works+x.warriors+x.fermers)/10).toFixed(0);
		prmax = (prmax < 1) ? 1: prmax;
		x.works += (x.food == otn) ? rand(0, prmin): (x.food > otn) ? rand(0, prmax): rand(0, prmin);
		x.works -= (x.food == otn) ? rand(0, prmin): (x.food > otn) ? rand(0, prmin): rand(0, prmax);
		x.works = (x.works < 0) ? 0: (x.works > x.derev.count) ? x.derev.count: x.works;
		x.gg += x.works*5;
		x.food += x.fermers*5;
		x.food -= otn;
		x.food = (x.food < 0) ? 0: x.food;
	});
}, 60000);



function sp(string) {
	if (typeof string !== "string") string = string.toString();
var syt = string;
		string = (syt.length >= 21) ? syt: string;
		return string.split("").reverse().join("").match(/[0-9]{1,3}/g).join(".").split("").reverse().join("");
	}

setInterval(async () => {
	users.filter(x => x.war.timeout != 0).map(x=> {
		x.war.timeout -= 1;
	});
}, 1000);

setInterval(async () => {
	users.filter(x => x.war.brone != 0).map(x=> {
		x.war.brone -= 1;
	});
}, 1000);

function timer(seconds) {
    if(seconds == "") return "0 —Å–µ–∫—É–Ω–¥"
    var hours = parseInt(seconds/3600 );
    seconds = seconds%3600;
    var minutes = parseInt(seconds/60); 
    seconds = seconds%60;
    hours = (hours == 0 ? "" : hours + " " + scl(hours, ["—á–∞—Å", "—á–∞—Å–∞", "—á–∞—Å–æ–≤"]))
    minutes = (minutes == 0 ? "" : minutes + " " + scl(minutes, ["–º–∏–Ω—É—Ç—É", "–º–∏–Ω—É—Ç—ã", "–º–∏–Ω—É—Ç"]))
    seconds = (seconds == 0 ? "" : seconds + " " + scl(seconds, ["—Å–µ–∫—É–Ω–¥—É", "—Å–µ–∫—É–Ω–¥—ã", "—Å–µ–∫—É–Ω–¥"]))
    var gone = hours + " " + minutes + " " + seconds
    return gone
};

 function time() {
 	let date = new Date();
 	let days = date.getDate();
 	let hours = date.getHours();
 	let minutes = date.getMinutes();
 	let seconds = date.getSeconds();
 	if (hours < 10) hours = "0" + hours;
 	if (minutes < 10) minutes = "0" + minutes;
 	if (seconds < 10) seconds = "0" + seconds;
 	var times = hours + ':' + minutes + ':' + seconds
 	return times;
 }

function scl(number, titles) {
	cases = [2, 0, 1, 1, 1, 2];
	return titles[(number % 100 > 4 && number % 100 < 20) ? 2 : cases[(number % 10 < 5) ? number % 10 : 5]];
};

function getr(num){
	num = (num < 0) ? "–ò–≥—Ä–æ–∫": 
	(num == 0) ? "–ò–≥—Ä–æ–∫":
	(num == 1) ? "VIP":
	(num == 2) ? "Super VIP":
	(num == 3) ? "MODERATOR":
	(num == 4) ? "TEX ADM":
	(num == 5) ? "OWNER":
	(num > 5) ? "–ß–°–í": "–û—à–∏–±–∫–∞";
	return [num]
	}

	cmd.on(/^(?:Dgive)$/i, async (message, bot) => {
	if(i.post < 1) return message.send(nodonate(1));
	if(i.dgive != 0) return message.send("üìõ| –ü–æ–¥–æ–∂–¥–∏—Ç–µ –µ—â—ë: "+ timer(i.dgive)+"\nüîπ–ü–æ–ª—É—á–∞—Ç—å –∞–ª–º–∞–∑—ã –º–æ–∂–Ω–æ —Ä–∞–∑ –≤ —á–∞—Å!");
	var diamond906 = (i.rights == 1) ? 5: 15;
	i.donate += diamond906;
	i.dgive = 3600;
	message.send("üíé–ê–ª–º–∞–∑—ã —É—Å–ø–µ—à–Ω–æ –ø–æ–ª—É—á–µ–Ω—ã!");
	});

	setInterval(async () => {
	users.filter(x=> x.dgive != 0).map(x=> {
		x.dgive--;
	});
}, 1000);
});



	cmd.on(/^(?:Myname)\s([^]+)$/i, async (message, bot) => {
	if(i.post < 1) return message.send(nodonate(1));
	if(message.args[1].length > 25) return message.send("üìõ| –î–ª–∏–Ω–Ω–∞ –Ω–∏–∫–∞ –Ω–µ –¥–æ–ª–∂–Ω–∞ –ø—Ä–µ–≤—ã—à–∞—Ç—å 25 —Å–∏–º–≤–æ–ª–æ–≤!");
	i.tag = message.args[1];
	message.send("‚úÖ -> –ù–æ–≤–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ!");
	});

	function nodonate(num) {
		var flepsj = (`üìõ–î–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —ç—Ç–æ–π –∫–æ–º–∞–Ω–¥—ã –Ω—É–∂–Ω–∞ –ø—Ä–∏–≤–∏–ª–µ–≥–∏—è: ${getr(num)} –∏–ª–∏ –≤—ã—à–µ!
		üí≤–ö—É–ø–∏—Ç—å –ø—Ä–∏–≤–∏–ª–µ–≥–∏—é –º–æ–∂–Ω–æ –≤ –Ω–∞—à–µ–º –¥–æ–Ω–∞—Ç –º–∞–≥–∞–∑–∏–Ω–µ –¥–ª—è —ç—Ç–æ–≥–æ –≤—ã –º–æ–∂–µ—Ç–µ –Ω–∞–∂–∞—Ç—å –∫–Ω–æ–ø–∫—É "–î–æ–Ω–∞—Ç" –∏–ª–∏ –ù–∞–ø–∏—Å–∞—Ç—å: "–î–æ–Ω–∞—Ç"`)
		return flepsj;
		}

	setInterval(async () => {
	users.filter(x=> x.activ != "—Å4").map(x=> {
		x.activ++;
	});
}, 1000);
	

/// –ö–õ–ê–ù–´ ///

cmd.on(/^(?:–∫–ª–∞–Ω –ø–æ–º–æ—â—å)$/i, async (message, bot) => {
let clanid = message.user.clanid;
return bot(`–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –ø–æ –∫–æ–º–∞–Ω–¥–∞–º:
‚†Ä1‚É£ –ö–ª–∞–Ω - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–ª–∞–Ω–µ
‚†Ä2‚É£ –ö–ª–∞–Ω —É–ª—É—á—à–∏—Ç—å - —É–ª—É—á—à–∏—Ç—å –∫–ª–∞–Ω
‚†Ä3‚É£ –ö–ª–∞–Ω —Å–æ—Å—Ç–∞–≤ - —É—á–∞—Å—Ç–Ω–∏–∫–∏ –∫–ª–∞–Ω–∞
‚†Ä4‚É£ –ö–ª–∞–Ω —Å–æ–∑–¥–∞—Ç—å [–Ω–∞–∑–≤–∞–Ω–∏–µ] - —Å–æ–∑–¥–∞—Ç—å –∫–ª–∞–Ω
‚†Ä5‚É£ –ö–ª–∞–Ω –Ω–∞–∑–≤–∞–Ω–∏–µ [–Ω–∞–∑–≤–∞–Ω–∏–µ] - —Å–º–µ–Ω–∞ –Ω–∞–∑–≤–∞–Ω–∏—è –∫–ª–∞–Ω–∞
‚†Ä6‚É£ –ö–ª–∞–Ω –º–µ—Ç–∫–∞ [–º–µ—Ç–∫–∞] - —Å–∏–º–≤–æ–ª –∫–ª–∞–Ω–∞
‚†Ä7‚É£ –ö–ª–∞–Ω –æ—Ç–∫—Ä—ã—Ç—å - –æ—Ç–∫—Ä—ã—Ç—å –∫–ª–∞–Ω –¥–ª—è –≤—Å—Ç—É–ø–ª–µ–Ω–∏–π üîì
‚†Ä8‚É£ –ö–ª–∞–Ω –∑–∞–∫—Ä—ã—Ç—å - –∑–∞–∫—Ä—ã—Ç—å –∫–ª–∞–Ω –¥–ª—è –≤—Å—Ç—É–ø–ª–µ–Ω–∏–π üîí
‚†Ä9‚É£ –ö–ª–∞–Ω [–ø–æ–ø–æ–ª–Ω–∏—Ç—å/—Å–Ω—è—Ç—å] [—Å—É–º–º–∞] - –∫–∞–∑–Ω–∞ –∫–ª–∞–Ω–∞
‚†Ä1‚É£0‚É£ –ö–ª–∞–Ω –∞—Ç–∞–∫–∞ - –∞—Ç–∞–∫–æ–≤–∞—Ç—å –¥—Ä—É–≥–æ–π –∫–ª–∞–Ω
‚†Ä1‚É£1‚É£ –ö–ª–∞–Ω –ø–æ–≤—ã—Å–∏—Ç—å [id] - –ø–æ–≤—ã—Å–∏—Ç—å –∑–≤–∞–Ω–∏–µ –∏–≥—Ä–æ–∫—É
‚†Ä1‚É£2‚É£ –ö–ª–∞–Ω –ø–æ–Ω–∏–∑–∏—Ç—å [id] - –ø–æ–Ω–∏–∑–∏—Ç—å –∑–≤–∞–Ω–∏–µ –∏–≥—Ä–æ–∫—É
‚†Ä1‚É£3‚É£ –ö–ª–∞–Ω –∫–∏–∫ [id] - –≤—ã–≥–Ω–∞—Ç—å –∏–≥—Ä–æ–∫–∞
‚†Ä1‚É£4‚É£ –ö–ª–∞–Ω –≤–æ–π—Ç–∏ [id –∫–ª–∞–Ω–∞] - –≤—Å—Ç—É–ø–∏—Ç—å –≤ –∫–ª–∞–Ω
‚†Ä1‚É£5‚É£ –ö–ª–∞–Ω –ø–æ–∫–∏–Ω—É—Ç—å - –ø–æ–∫–∏–Ω—É—Ç—å –∫–ª–∞–Ω
`);
});

cmd.on(/^(?:–∫–ª–∞–Ω –∞—Ç–∞–∫–∞|–∫–ª–∞–Ω –∞—Ç–∞–∫–æ–≤–∞—Ç—å|–∞—Ç–∞–∫–∞|–Ω–∞–≥—Ä–∞–±–∏—Ç—å)$/i, async (message, bot) => { 
	let clanid = message.user.clanid; 
	if(!clans[clanid]) return bot(`—É –≤–∞—Å –Ω–µ—Ç –∫–ª–∞–Ω–∞!`); 
	if(clans[clanid].users[message.user.uid].level < 3) return bot(`–ø—Ä–æ–≤–æ–¥–∏—Ç—å –∞—Ç–∞–∫–∏ –º–æ–∂–µ—Ç —Ç–æ–ª—å–∫–æ –≥–ª–∞–≤–∞ –∫–ª–∞–Ω–∞.`); 
	if(clans[clanid].peoples < 5) return bot(`—á—Ç–æ –±—ã –ø—Ä–æ–≤–æ–¥–∏—Ç—å –∞—Ç–∞–∫–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∏–º–µ—Ç—å –º–∏–Ω–∏–º—É–º 5 —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤. `); 
	if(message.user.timers.ataka >= 0) return bot(`–∏–≥—Ä–æ–∫–∏ –≤–∞—à–µ–≥–æ –∫–ª–∞–Ω–∞ —Å–∏–ª—å–Ω–æ —É—Å—Ç–∞–ª–∏, –æ–Ω–∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤—è—Ç —Å–∏–ª—ã —á–µ—Ä–µ–∑ ${displayTime(message.user.timers.ataka)} ${smileerror}`); 

	message.user.timers.ataka = 1200;
	clanataka = utils.random(32456724, 10000000000); 
	let atackedclan = utils.pick([1, 2, 3, 4, 5, 6, 7, 8, 9]);

	if(atackedclan === 1)
	{
		clans[clanid].rating += 1; 
		clans[clanid].wons += 1; 
		clans[clanid].gg += clanataka; 
		return bot(`–∞—Ç–∞–∫–∞ —Å–æ—Å—Ç–æ—è–ª–∞—Å—å ‚öî
		–í–∞–º —É–¥–∞–ª–æ—Å—å –Ω–∞–≥—Ä–∞–±–∏—Ç—å ${utils.sp(clanataka)}$ –≤ –æ–±—â—É—é –∫–∞–∑–Ω—É –∫–ª–∞–Ω–∞. ${smilesuccess}
		–í–∞—à –∫–ª–∞–Ω —Ç–µ–ø–µ—Ä—å –∏–º–µ–µ—Ç ü•á${utils.rn(clans[clanid].wons)} –ø–æ–±–µ–¥, –ø–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!`);
	}

	if(atackedclan === 2)
	{
		clans[clanid].rating -= 1; 
		clans[clanid].los += 1; 
		return bot(`–∞—Ç–∞–∫–∞ —Å–æ—Å—Ç–æ—è–ª–∞—Å—å ‚öî
		–ö–ª–∞–Ω –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∞ –æ–∫–∞–∑–∞–ª—Å—è —Å–∏–ª—å–Ω–µ–µ, –≤—ã –ø—Ä–æ–∏–≥—Ä–∞–ª–∏. ${smileerror}
		–í–∞—à –∫–ª–∞–Ω —Ç–µ–ø–µ—Ä—å –∏–º–µ–µ—Ç ü•á${utils.rn(clans[clanid].los)} –ø–æ—Ä–∞–∂–µ–Ω–∏–π!`);
	}

	if(atackedclan === 3)
	{
		return bot(`–∞—Ç–∞–∫–∞ –Ω–µ —Å–æ—Å—Ç–æ—è–ª–∞—Å—å, –∫–∞–∂–µ—Ç—Å—è —á—Ç–æ –≤–∞—à–∏ –ø—Ä–æ—Ç–∏–≤–Ω–∏–∫–∏ —Å—Ç—Ä—É—Å–∏–ª–∏ ‚öî`);
	}

	if(atackedclan === 4)
	{
		clans[clanid].rating += 1; 
		clans[clanid].wons += 1; 
		clans[clanid].gg += clanataka; 
		return bot(`–∞—Ç–∞–∫–∞ —Å–æ—Å—Ç–æ—è–ª–∞—Å—å ‚öî
		–í–∞–º —É–¥–∞–ª–æ—Å—å –Ω–∞–≥—Ä–∞–±–∏—Ç—å ${utils.sp(clanataka)}$ –≤ –æ–±—â—É—é –∫–∞–∑–Ω—É –∫–ª–∞–Ω–∞. ${smilesuccess}
		–í–∞—à –∫–ª–∞–Ω —Ç–µ–ø–µ—Ä—å –∏–º–µ–µ—Ç ü•á${utils.rn(clans[clanid].wons)} –ø–æ–±–µ–¥, –ø–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!`);
	}

	if(atackedclan === 5)
	{
		clans[clanid].rating += 1; 
		clans[clanid].wons += 1; 
		clans[clanid].gg += clanataka; 
		return bot(`–∞—Ç–∞–∫–∞ —Å–æ—Å—Ç–æ—è–ª–∞—Å—å ‚öî
		–í–∞–º —É–¥–∞–ª–æ—Å—å –Ω–∞–≥—Ä–∞–±–∏—Ç—å ${utils.sp(clanataka)}$ –≤ –æ–±—â—É—é –∫–∞–∑–Ω—É –∫–ª–∞–Ω–∞. ${smilesuccess}
		–í–∞—à –∫–ª–∞–Ω —Ç–µ–ø–µ—Ä—å –∏–º–µ–µ—Ç ü•á${utils.rn(clans[clanid].wons)} –ø–æ–±–µ–¥, –ø–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!`);
	}
	if(atackedclan === 6)
	{
		clans[clanid].rating += 1; 
		clans[clanid].wons += 1; 
		clans[clanid].gg += clanataka; 
		return bot(`–∞—Ç–∞–∫–∞ —Å–æ—Å—Ç–æ—è–ª–∞—Å—å ‚öî
		–í–∞–º —É–¥–∞–ª–æ—Å—å –Ω–∞–≥—Ä–∞–±–∏—Ç—å ${utils.sp(clanataka)}$ –≤ –æ–±—â—É—é –∫–∞–∑–Ω—É –∫–ª–∞–Ω–∞. ${smilesuccess}
		–í–∞—à –∫–ª–∞–Ω —Ç–µ–ø–µ—Ä—å –∏–º–µ–µ—Ç ü•á${utils.rn(clans[clanid].wons)} –ø–æ–±–µ–¥, –ø–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!`);
	}
	if(atackedclan === 7)
	{
		clans[clanid].rating += 1; 
		clans[clanid].wons += 1; 
		clans[clanid].gg += clanataka; 
		return bot(`–∞—Ç–∞–∫–∞ —Å–æ—Å—Ç–æ—è–ª–∞—Å—å ‚öî
		–í–∞–º —É–¥–∞–ª–æ—Å—å –Ω–∞–≥—Ä–∞–±–∏—Ç—å ${utils.sp(clanataka)}$ –≤ –æ–±—â—É—é –∫–∞–∑–Ω—É –∫–ª–∞–Ω–∞. ${smilesuccess}
		–í–∞—à –∫–ª–∞–Ω —Ç–µ–ø–µ—Ä—å –∏–º–µ–µ—Ç ü•á${utils.rn(clans[clanid].wons)} –ø–æ–±–µ–¥, –ø–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!`);
	}
	if(atackedclan === 8)
	{
		clans[clanid].rating += 1; 
		clans[clanid].wons += 1; 
		clans[clanid].gg += clanataka; 
		return bot(`–∞—Ç–∞–∫–∞ —Å–æ—Å—Ç–æ—è–ª–∞—Å—å ‚öî
		–í–∞–º —É–¥–∞–ª–æ—Å—å –Ω–∞–≥—Ä–∞–±–∏—Ç—å ${utils.sp(clanataka)}$ –≤ –æ–±—â—É—é –∫–∞–∑–Ω—É –∫–ª–∞–Ω–∞. ${smilesuccess}
		–í–∞—à –∫–ª–∞–Ω —Ç–µ–ø–µ—Ä—å –∏–º–µ–µ—Ç ü•á${utils.rn(clans[clanid].wons)} –ø–æ–±–µ–¥, –ø–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!`);
	}
	if(atackedclan === 9)
	{
		clans[clanid].rating += 1; 
		clans[clanid].wons += 1; 
		clans[clanid].gg += clanataka; 
		return bot(`–∞—Ç–∞–∫–∞ —Å–æ—Å—Ç–æ—è–ª–∞—Å—å ‚öî
		–í–∞–º —É–¥–∞–ª–æ—Å—å –Ω–∞–≥—Ä–∞–±–∏—Ç—å ${utils.sp(clanataka)}$ –≤ –æ–±—â—É—é –∫–∞–∑–Ω—É –∫–ª–∞–Ω–∞. ${smilesuccess}
		–í–∞—à –∫–ª–∞–Ω —Ç–µ–ø–µ—Ä—å –∏–º–µ–µ—Ç ü•á${utils.rn(clans[clanid].wons)} –ø–æ–±–µ–¥, –ø–æ–∑–¥—Ä–∞–≤–ª—è–µ–º!`);
	}
	});


cmd.on(/^(?:–∫–ª–∞–Ω)$/i, async (message, bot) => {
let clanid = message.user.clanid;
if(!clans[clanid]) return bot(`—É –≤–∞—Å –Ω–µ—Ç –∫–ª–∞–Ω–∞!
‚ùì –î–ª—è –≤—Å—Ç—É–ø–ª–µ–Ω–∏—è –≤–≤–µ–¥–∏—Ç–µ ¬´–ö–ª–∞–Ω –≤–æ–π—Ç–∏ [ID]¬ª`);

let text = ``;
let tipe = ``;
let lv = ``;
let mp = ``;
let num = 10;

for(let id in clans[clanid].users) {
if(!num < 1) {
num -= 1;
let user = users[id];
if(user.mention == true) {
if(clans[clanid].users[id].level == 3) text += `üëë –°–æ–∑–¥–∞—Ç–µ–ª—å –∫–ª–∞–Ω–∞ - @id${user.id} (${user.tag})\n`;
} else {
if(clans[clanid].users[id].level == 3) text += `üëë –°–æ–∑–¥–∞—Ç–µ–ª—å –∫–ª–∞–Ω–∞ - @id${user.id} (${user.tag})\n`;
};
};
}

if(clans[clanid].lvl == 0) { 
lv += `1`;
mp += `5`;
cost = `üÜï –£–ª—É—á—à–µ–Ω–∏–µ –∫–ª–∞–Ω–∞ –¥–æ 2 —É—Ä–æ–≤–Ω—è —Å—Ç–æ–∏—Ç 100.000.000.000$`;
};
if(clans[clanid].lvl == 1) {
lv += `2`;
mp += `15`;
cost = `üÜï –£–ª—É—á—à–µ–Ω–∏–µ –∫–ª–∞–Ω–∞ –¥–æ 3 —É—Ä–æ–≤–Ω—è —Å—Ç–æ–∏—Ç 500.000.000.000$`;
};
if(clans[clanid].lvl == 2) {
lv += `3`;
mp += `25`;
cost = `üÜï –£–ª—É—á—à–µ–Ω–∏–µ –∫–ª–∞–Ω–∞ –¥–æ 4 —É—Ä–æ–≤–Ω—è —Å—Ç–æ–∏—Ç 2.500.000.000.000$`;
};
if(clans[clanid].lvl == 3) {
lv += `4`;
mp += `50`;
cost = `üÜí –ö–ª–∞–Ω —É–ª—É—á—à–µ–Ω –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ.`;
};
if(clans[clanid].open == true) tipe += `üîì –ö–ª–∞–Ω –æ—Ç–∫—Ä—ã—Ç, —Å–≤–æ–±–æ–¥–Ω—ã–π –¥–ª—è –≤—Ö–æ–¥–∞`;
if(clans[clanid].open == false) tipe += `üîí –ö–ª–∞–Ω –∑–∞–∫—Ä—ã—Ç, –¥–æ—Å—Ç—É–ø –ø–æ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è–º`;

return bot(`–∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∫–ª–∞–Ω–µ ¬´${clans[clanid].name}¬ª:
üõ° –£—Ä–æ–≤–µ–Ω—å –∫–ª–∞–Ω–∞: ${lv}
üëë –†–µ–π—Ç–∏–Ω–≥ –∫–ª–∞–Ω–∞: ${utils.sp(clans[clanid].rating)}
üìú ID –∫–ª–∞–Ω–∞: ${clans[clanid].id}
ü•á –ü–æ–±–µ–¥: ${utils.sp(clans[clanid].wons)}, –ø–æ—Ä–∞–∂–µ–Ω–∏–π: ${utils.sp(clans[clanid].los)}
${tipe}
üí∞ –í –∫–∞–∑–Ω–µ –∫–ª–∞–Ω–∞: ${utils.sp(clans[clanid].gg)}$
‚ò† –ù–∞ –≤–∞—Å –µ—â—ë –Ω–µ –Ω–∞–ø–∞–¥–∞–ª–∏ –¥—Ä—É–≥–∏–µ –∫–ª–∞–Ω—ã.

${cost}
üë• –£—á–∞—Å—Ç–Ω–∏–∫–æ–≤: ${utils.sp(clans[clanid].peoples)}/${mp}

üèπ –õ–æ–≥–æ—Ç–∏–ø –∫–ª–∞–Ω–∞: ${clans[clanid].smile}
${text}
`);
});

cmd.on(/^(?:–∫–ª–∞–Ω —É–ª—É—á—à–∏—Ç—å)$/i, async (message, bot) => {
let clanid = message.user.clanid;
if(!clans[clanid]) return bot(`—É –≤–∞—Å –Ω–µ—Ç –∫–ª–∞–Ω–∞!
	‚ùì –î–ª—è –≤—Å—Ç—É–ø–ª–µ–Ω–∏—è –≤–≤–µ–¥–∏—Ç–µ ¬´–ö–ª–∞–Ω –≤–æ–π—Ç–∏ [ID]¬ª`);
if(clans[clanid].users[message.user.uid].level < 3) return bot(`—É–ª—É—á—à–∞—Ç—å –∫–ª–∞–Ω –º–æ–∂–µ—Ç —Ç–æ–ª—å–∫–æ –≥–ª–∞–≤–∞ –∫–ª–∞–Ω–∞!`);
if(clans[clanid].lvl == 0) {
if(message.user.gg < 10000) return bot(`—É–ª—É—á—à–µ–Ω–∏–µ –∫–ª–∞–Ω–∞ –¥–æ 2 —É—Ä–æ–≤–Ω—è —Å—Ç–æ–∏—Ç 10.000 –≥–æ–ª–¥—ã`);
message.user.gg -= 10000;
clans[clanid].lvl = 1;
return bot(`–∫–ª–∞–Ω —É–ª—É—á—à–µ–Ω –¥–æ 2 —É—Ä–æ–≤–Ω—è –∑–∞ 100.000.000.000$!

üë™ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ —É–≤–µ–ª–∏—á–µ–Ω–æ –¥–æ - 15
üó£ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ –Ω–∞–∑–≤–∞–Ω–∏—è –∫–ª–∞–Ω–∞ —É–≤–µ–ª–∏—á–µ–Ω–∞ –¥–æ - 10 —Å–∏–º–≤–æ–ª–æ–≤
üÜï –°–ª–µ–¥—É—é—â–µ–µ —É–ª—É—á—à–µ–Ω–∏–µ —Å—Ç–æ–∏—Ç 500.000.000.000$`);
};
if(clans[clanid].lvl == 1) {
if(message.user.gg < 30000) return bot(`—É–ª—É—á—à–µ–Ω–∏–µ –∫–ª–∞–Ω–∞ –¥–æ 3 —É—Ä–æ–≤–Ω—è —Å—Ç–æ–∏—Ç 30.000 –≥–æ–ª–¥—ã`);
message.user.gg -= 30000;
clans[clanid].lvl = 2;
return bot(`–∫–ª–∞–Ω —É–ª—É—á—à–µ–Ω –¥–æ 3 —É—Ä–æ–≤–Ω—è –∑–∞ 500.000.000.000$!

üë™ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ —É–≤–µ–ª–∏—á–µ–Ω–æ –¥–æ - 25
üó£ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ –Ω–∞–∑–≤–∞–Ω–∏—è –∫–ª–∞–Ω–∞ —É–≤–µ–ª–∏—á–µ–Ω–∞ –¥–æ - 13 —Å–∏–º–≤–æ–ª–æ–≤
üÜï –°–ª–µ–¥—É—é—â–µ–µ —É–ª—É—á—à–µ–Ω–∏–µ —Å—Ç–æ–∏—Ç 2.500.000.000.000$`);
};
if(clans[clanid].lvl == 2) {
if(message.user.gg < 50000) return bot(`—É–ª—É—á—à–µ–Ω–∏–µ –∫–ª–∞–Ω–∞ –¥–æ 4 —É—Ä–æ–≤–Ω—è —Å—Ç–æ–∏—Ç 50.000 –≥–æ–ª–¥—ã`);
message.user.gg -= 50000;
clans[clanid].lvl = 3;
return bot(`–∫–ª–∞–Ω —É–ª—É—á—à–µ–Ω –¥–æ 4 —É—Ä–æ–≤–Ω—è –∑–∞ 2.500.000.000.000$!

üë™ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ —É–≤–µ–ª–∏—á–µ–Ω–æ –¥–æ - 50
üó£ –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ –Ω–∞–∑–≤–∞–Ω–∏—è –∫–ª–∞–Ω–∞ —É–≤–µ–ª–∏—á–µ–Ω–∞ –¥–æ - 15 —Å–∏–º–≤–æ–ª–æ–≤
üÜï –ö–ª–∞–Ω —É–ª—É—á—à–µ–Ω –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ!`);
};
if(clans[clanid].lvl == 3) {
return bot(`–≤–∞—à –∫–ª–∞–Ω —É–ª—É—á—à–µ–Ω –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ!`);
};
});

cmd.on(/^(?:–∫–ª–∞–Ω —Å–æ—Å—Ç–∞–≤)$/i, async (message, bot) => {
let clanid =
 
message.user.clanid;
if(!clans[clanid]) return bot(`—É –≤–∞—Å –Ω–µ—Ç –∫–ª–∞–Ω–∞!
	‚ùì –î–ª—è –≤—Å—Ç—É–ø–ª–µ–Ω–∏—è –≤–≤–µ–¥–∏—Ç–µ ¬´–ö–ª–∞–Ω –≤–æ–π—Ç–∏ [ID]¬ª`);

let text = ``;
let mp = ``;

for(let id in clans[clanid].users) {
let user = users[id];
if(user.mention == true) {
if(clans[clanid].users[id].level == 3) text += `‚†Ä‚†Ä –°–æ–∑–¥–∞—Ç–µ–ª—å –∫–ª–∞–Ω–∞ - @id${user.id} (${user.tag}) (ID: ${user.uid})\n`;
if(clans[clanid].users[id].level == 2) text += `‚†Ä‚†Ä –ó–∞–º–µ—Å—Ç–∏—Ç–µ–ª—å –∫–ª–∞–Ω–∞ - @id${user.id} (${user.tag}) (ID: ${user.uid})\n`;
if(clans[clanid].users[id].level == 1) text += `‚†Ä‚†Ä –û–±—ã—á–Ω—ã–π —É—á–∞—Å—Ç–Ω–∏–∫ - @id${user.id} (${user.tag}) (ID: ${user.uid})\n`;
if(clans[clanid].users[id].level == 0) text += `‚†Ä‚†Ä –û–±—ã—á–Ω—ã–π —É—á–∞—Å—Ç–Ω–∏–∫ - @id${user.id} (${user.tag}) (ID: ${user.uid})\n`;
} else {
if(clans[clanid].users[id].level == 3) text += `‚†Ä‚†Ä –°–æ–∑–¥–∞—Ç–µ–ª—å –∫–ª–∞–Ω–∞ - ${user.tag} (ID: ${user.uid})\n`;
if(clans[clanid].users[id].level == 2) text += `‚†Ä‚†Ä –ó–∞–º–µ—Å—Ç–∏—Ç–µ–ª—å –∫–ª–∞–Ω–∞ - ${user.tag} (ID: ${user.uid})\n`;
if(clans[clanid].users[id].level == 1) text += `‚†Ä‚†Ä –û–±—ã—á–Ω—ã–π —É—á–∞—Å—Ç–Ω–∏–∫ - ${user.tag} (ID: ${user.uid})\n`;
if(clans[clanid].users[id].level == 0) text += `‚†Ä‚†Ä –û–±—ã—á–Ω—ã–π —É—á–∞—Å—Ç–Ω–∏–∫ - ${user.tag} (ID: ${user.uid})\n`;
};
}

if(clans[clanid].lvl == 0) { 
mp += `5`;
};
if(clans[clanid].lvl == 1) {
mp += `15`;
};
if(clans[clanid].lvl == 2) {
mp += `25`;
};
if(clans[clanid].lvl == 3) {
mp += `50`;
};
if(clans[clanid].lvl == 4) {
mp += `100`;
};

return bot(`—É—á–∞—Å—Ç–Ω–∏–∫–∏ –∫–ª–∞–Ω–∞ ¬´${clans[clanid].name}¬ª [${clans[clanid].peoples}/${mp}]:
${text}`);
});

cmd.on(/^(?:–∫–ª–∞–Ω —Å–æ–∑–¥–∞—Ç—å)\s(.*)$/i, async (message, bot) => {
if(!message.args[1]) return bot(`–≤–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –¥–ª—è –∫–ª–∞–Ω–∞!`);
let zaprets1 = message.args[1].toLowerCase();
var zapret = /(ü§µ)/
var sss = zapret.test(zaprets1) 
if(zapret.test(zaprets1) == true){
var check = true;
		progressQuest(message.user, 1)
return bot(`–≤ –Ω–∞–∑–≤–∞–Ω–∏–∏ –µ—Å—Ç—å –∑–∞–ø—Ä–µ—â–µ–Ω–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã ${smileerror}`);
} 
if(message.args[1].length >= 7) return bot(`–º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ –Ω–∞–∑–≤–∞–Ω–∏—è –∫–ª–∞–Ω–∞ 7 —Å–∏–º–≤–æ–ª–æ–≤`);
let name = message.args[1];
let clanid = message.user.clanid;
if(message.user.gg < 5000) return bot(`—Å–æ–∑–¥–∞–Ω–∏–µ –∫–ª–∞–Ω–∞ —Å—Ç–æ–∏—Ç 5.000 –≥–æ–ª–¥—ã`);
message.user.gg -= 5000;
let cl = clans.length

if(clans[clanid]) return bot(`–≤—ã —É–∂–µ —Å–æ—Å—Ç–æ–∏—Ç–µ –≤ –∫–ª–∞–Ω–µ!`);
if(!clans[clanid]) { 
clans.push({
id: cl,
users: {},
name: name,
gg: 0,
rating: 0,
smile: `üõ°`,
peoples: 1,
wons: 1,
los: 0,
open: true,
lvl: 0
});
message.user.clanid = cl;
clans[cl].users[message.user.uid] = {
id: message.user.id,
uid: message.user.uid,
level: 3
}


return bot(`–∫–ª–∞–Ω ¬´${message.args[1]}¬ª —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω!\n–í–≤–µ–¥–∏—Ç–µ ¬´–∫–ª–∞–Ω –ø–æ–º–æ—â—å¬ª —á—Ç–æ–±—ã –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∫–æ–º–∞–Ω–¥—ã –∫–ª–∞–Ω–∞!`);
}
});

cmd.on(/^(?:–∫–ª–∞–Ω –Ω–∞–∑–≤–∞–Ω–∏–µ)\s(.*)$/i, async (message, bot) => {
if(!message.args[1]) return bot(`–≤–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ –¥–ª—è –∫–ª–∞–Ω–∞!`);
let zaprets1 = message.args[1].toLowerCase();
var zapret = /(ü§µ|üìî|üìóüìò|üìô|üìï|‚çª|üó∏|‚àö|‚òë|‚úî|üëë|‚úÖ|‚úì)/
var sss = zapret.test(zaprets1) 
if(zapret.test(zaprets1) == true){
var check = true;
return bot(`–≤ –Ω–∞–∑–≤–∞–Ω–∏–∏ –µ—Å—Ç—å –∑–∞–ø—Ä–µ—â–µ–Ω–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã ${smileerror}`);
}
let clanid = message.user.clanid;
if(!clans[clanid]) return bot(`—É –≤–∞—Å –Ω–µ—Ç –∫–ª–∞–Ω–∞!
	‚ùì –î–ª—è –≤—Å—Ç—É–ø–ª–µ–Ω–∏—è –≤–≤–µ–¥–∏—Ç–µ ¬´–ö–ª–∞–Ω –≤–æ–π—Ç–∏ [ID]¬ª`);
if(clans[clanid].users[message.user.uid].level < 2) return bot(`–Ω–∞–∑–≤–∞–Ω–∏–µ –∫–ª–∞–Ω–∞ –º–æ–∂–µ—Ç –º–µ–Ω—è—Ç—å –∑–∞–º–µ—Å—Ç–∏—Ç–µ–ª—å –∫–ª–∞–Ω–∞ –∏ –≤—ã—à–µ!`);
if(clans[clanid].lvl == 0) {
if(message.args[1].length >= 7) return bot(`–º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ –Ω–∞–∑–≤–∞–Ω–∏—è –∫–ª–∞–Ω–∞ 7 —Å–∏–º–≤–æ–ª–æ–≤`);
};
if(clans[clanid].lvl == 1) {
if(message.args[1].length >= 10) return bot(`–º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ –Ω–∞–∑–≤–∞–Ω–∏—è –∫–ª–∞–Ω–∞ 10 —Å–∏–º–≤–æ–ª–æ–≤`);
};
if(clans[clanid].lvl == 2) {
if(message.args[1].length >= 13) return bot(`–º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ –Ω–∞–∑–≤–∞–Ω–∏—è –∫–ª–∞–Ω–∞ 13 —Å–∏–º–≤–æ–ª–æ–≤`);
};
if(clans[clanid].lvl == 3) {
if(message.args[1].length >= 15) return bot(`–º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ –Ω–∞–∑–≤–∞–Ω–∏—è –∫–ª–∞–Ω–∞ 15 —Å–∏–º–≤–æ–ª–æ–≤`);
};
clans[clanid].name = message.args[1];
return bot(`–Ω–∞–∑–≤–∞–Ω–∏–µ –∫–ª–∞–Ω–∞ —Å–º–µ–Ω–µ–Ω–æ –Ω–∞ ¬´${message.args[1]}¬ª`);
});

cmd.on(/^(?:–∫–ª–∞–Ω –º–µ—Ç–∫–∞)\s(.*)$/i, async (message, bot) => {
if(!message.args[1]) return bot(`–≤–≤–µ–¥–∏—Ç–µ –º–µ—Ç–∫—É –¥–ª—è –∫–ª–∞–Ω–∞!`);
let zaprets1 = message.args[1].toLowerCase();
var zapret = /(–π|—Ü|—É|–∫|–µ|–Ω|–≥|—à|—â|–∑|—Ö|—ä|—Ñ|—ã|–≤|–∞|–ø|—Ä|–æ|–ª|–¥|–∂|—ç|—è|—á|—Å|–º|–∏|—Ç|—å|–±|—é|1|2|3|4|5|6|7|8|9|0)/
var sss = zapret.test(zaprets1) 
if(zapret.test(zaprets1) == true){
var check = true;
return bot(`–≤ –º–µ—Ç–∫–µ –∫–ª–∞–Ω–∞ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–ª—å–∫–æ —Å–º–∞–π–ª—ã ${smileerror}`);
}
let clanid = message.user.clanid;
if(!clans[clanid]) return bot(`—É –≤–∞—Å –Ω–µ—Ç –∫–ª–∞–Ω–∞!
	‚ùì –î–ª—è –≤—Å—Ç—É–ø–ª–µ–Ω–∏—è –≤–≤–µ–¥–∏—Ç–µ ¬´–ö–ª–∞–Ω –≤–æ–π—Ç–∏ [ID]¬ª`);
if(clans[clanid].users[message.user.uid].level < 2) return bot(`–º–µ—Ç–∫—É –∫–ª–∞–Ω–∞ –º–æ–∂–µ—Ç –º–µ–Ω—è—Ç—å –∑–∞–º–µ—Å—Ç–∏—Ç–µ–ª—å –∫–ª–∞–Ω–∞ –∏ –≤—ã—à–µ!`);
if(message.args[1].length >= 3) return bot(`–º–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –¥–ª–∏–Ω–∞ –º–µ—Ç–∫–∏ –∫–ª–∞–Ω–∞ 1 —Å–º–∞–π–ª`);
clans[clanid].smile = message.args[1];
return bot(`–º–µ—Ç–∫–∞ –∫–ª–∞–Ω–∞ —Å–º–µ–Ω–µ–Ω–∞ –Ω–∞ ¬´${message.args[1]}¬ª`);
});

cmd.on(/^(?:–∫–ª–∞–Ω –æ—Ç–∫—Ä—ã—Ç—å)$/i, async (message, bot) => {
let clanid = message.user.clanid;
if(!clans[clanid]) return bot(`—É –≤–∞—Å –Ω–µ—Ç –∫–ª–∞–Ω–∞!
	‚ùì –î–ª—è –≤—Å—Ç—É–ø–ª–µ–Ω–∏—è –≤–≤–µ–¥–∏—Ç–µ ¬´–ö–ª–∞–Ω –≤–æ–π—Ç–∏ [ID]¬ª`);
if(clans[clanid].users[message.user.uid].level < 1) return bot(`–æ—Ç–∫—Ä—ã–≤–∞—Ç—å –∫–ª–∞–Ω –º–æ–∂–µ—Ç –º–æ–¥–µ—Ä–∞—Ç–æ—Ä –∫–ª–∞–Ω–∞ –∏ –≤—ã—à–µ!`);
if(clans[clanid].open == true) return bot(`–∫–ª–∞–Ω —É–∂–µ –æ—Ç–∫—Ä—ã—Ç—ã–π!`)
clans[clanid].open = true;
return bot(`–≤—ã —É—Å–ø–µ—à–Ω–æ –æ—Ç–∫—Ä—ã–ª–∏ –∫–ª–∞–Ω!`);
});

cmd.on(/^(?:–∫–ª–∞–Ω –∑–∞–∫—Ä—ã—Ç—å)$/i, async (message, bot) => {
let clanid = message.user.clanid;
if(!clans[clanid]) return bot(`—É –≤–∞—Å –Ω–µ—Ç –∫–ª–∞–Ω–∞!
	‚ùì –î–ª—è –≤—Å—Ç—É–ø–ª–µ–Ω–∏—è –≤–≤–µ–¥–∏—Ç–µ ¬´–ö–ª–∞–Ω –≤–æ–π—Ç–∏ [ID]¬ª`);
if(clans[clanid].users[message.user.uid].level < 1) return bot(`–∑–∞–∫—Ä—ã–≤–∞—Ç—å –∫–ª–∞–Ω –º–æ–∂–µ—Ç –º–æ–¥–µ—Ä–∞—Ç–æ—Ä –∫–ª–∞–Ω–∞ –∏ –≤—ã—à–µ!`);
if(clans[clanid].open == false) return bot(`–∫–ª–∞–Ω —É–∂–µ –∑–∞–∫—Ä—ã—Ç—ã–π!`)
clans[clanid].open = false;
return bot(`–≤—ã —É—Å–ø–µ—à–Ω–æ –∑–∞–∫—Ä—ã–ª–∏ –∫–ª–∞–Ω!`);
});

cmd.on(/^(?:–∫–ª–∞–Ω)\s(?:–ø–æ–ø–æ–ª–Ω–∏—Ç—å)\s(.*)$/i, async (message, bot) => {
let clanid = message.user.clanid;
if(!clans[clanid]) return bot(`—É –≤–∞—Å –Ω–µ—Ç –∫–ª–∞–Ω–∞!
	‚ùì –î–ª—è –≤—Å—Ç—É–ø–ª–µ–Ω–∏—è –≤–≤–µ–¥–∏—Ç–µ ¬´–ö–ª–∞–Ω –≤–æ–π—Ç–∏ [ID]¬ª`);
if(message.user.settings.adm > 2) return bot(`–∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –Ω–µ –º–æ–∂–µ—Ç –ø–æ–ø–æ–ª–Ω—è—Ç—å –∫–ª–∞–Ω. üö´`);
message.args[1] = message.args[1].replace(/(\.|\,)/ig, '');
message.args[1] = message.args[1].replace(/(–∫|k)/ig, '000');
message.args[1] = message.args[1].replace(/(–º|m)/ig, '000000');
message.args[1] = message.args[1].replace(/(–≤–∞–±–∞–Ω–∫|–≤–æ–±–∞–Ω–∫|–≤—Å–µ|–≤—Å—ë)/ig, message.user.gg);

if(!Number(message.args[1])) return;
message.args[1] = Math.floor(Number(message.args[1]));

if(message.args[1] <= 0) return;

if(message.args[1] > message.user.gg) return bot(`—É –≤–∞—Å –Ω–µ—Ç –¥–∞–Ω–Ω–æ–π —Å—É–º–º—ã ${smileerror}`);
else if(message.args[1] <= message.user.gg)
{
message.user.gg -= message.args[1];
clans[clanid].gg += message.args[1];

return bot(`–≤—ã –ø–æ–ª–æ–∂–∏–ª–∏ –Ω–∞ —Å—á—ë—Ç –∫–ª–∞–Ω–∞ ${utils.sp(message.args[1])}$`);
}
});


cmd.on(/^(?:–∫–ª–∞–Ω)\s(?:—Å–Ω—è—Ç—å)\s(.*)$/i, async (message, bot) => {
let clanid = message.user.clanid;
if(!clans[clanid]) return bot(`—É –≤–∞—Å –Ω–µ—Ç –∫–ª–∞–Ω–∞!
	‚ùì –î–ª—è –≤—Å—Ç—É–ø–ª–µ–Ω–∏—è –≤–≤–µ–¥–∏—Ç–µ ¬´–ö–ª–∞–Ω –≤–æ–π—Ç–∏ [ID]¬ª`);
if(clans[clanid].users[message.user.uid].level < 2) return bot(`—Å–Ω–∏–º–∞—Ç—å –¥–µ–Ω—å–≥–∏ –∫–ª–∞–Ω–∞ –º–æ–∂–µ—Ç –º–æ–¥–µ—Ä–∞—Ç–æ—Ä –∫–ª–∞–Ω–∞ –∏ –≤—ã—à–µ!`);
message.args[1] = message.args[1].replace(/(\.|\,)/ig, '');
message.args[1] = message.args[1].replace(/(–∫|k)/ig, '000');
message.args[1] = message.args[1].replace(/(–º|m)/ig, '000000');
message.args[1] = message.args[1].replace(/(–≤–∞–±–∞–Ω–∫|–≤–æ–±–∞–Ω–∫|–≤—Å–µ|–≤—Å—ë)/ig, clans[clanid].gg);

if(!Number(message.args[1])) return;
message.args[1] = Math.floor(Number(message.args[1]));

if(message.args[1] <= 0) return;

if(message.args[1] > clans[clanid].gg) return bot(`–Ω–∞ –±–∞–ª–∞–Ω—Å–µ –∫–ª–∞–Ω–∞ –Ω–µ—Ç –¥–∞–Ω–Ω–æ–π —Å—É–º–º—ã ${smileerror}`);
else if(message.args[1] <= clans[clanid].gg)
{
message.user.gg += message.args[1];
clans[clanid].gg -= message.args[1];

return bot(`–≤—ã —Å–Ω—è–ª–∏ ${utils.sp(message.args[1])}$ —Å –±–∞–ª–∞–Ω—Å–∞ –∫–ª–∞–Ω–∞

–ù–∞–ø–æ–º–Ω–∏–º, –ø–µ—Ä–µ–¥–∞—á–∞ —Å—Ä–µ–¥—Å—Ç–≤ —á–µ—Ä–µ–∑ –∫–ª–∞–Ω —Å—Ç—Ä–æ–≥–æ –∑–∞–ø—Ä–µ—â–µ–Ω–∞ –∏ –∫–∞—Ä–∞–µ—Ç—Å—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–æ–π!`);
}
});

cmd.on(/^(?:–∫–ª–∞–Ω –ø–æ–≤—ã—Å–∏—Ç—å)\s([0-9]+)$/i,
 
async (message, bot) => {
let clanidd = message.user.clanid;
if(!clans[clanidd]) return bot(`—É –≤–∞—Å –Ω–µ—Ç –∫–ª–∞–Ω–∞!
	‚ùì –î–ª—è –≤—Å—Ç—É–ø–ª–µ–Ω–∏—è –≤–≤–µ–¥–∏—Ç–µ ¬´–ö–ª–∞–Ω –≤–æ–π—Ç–∏ [ID]¬ª`);
let user = users.find(x=> x.uid === Number(message.args[1]));
if(!user) return bot(`–Ω–µ–≤–µ—Ä–Ω—ã–π ID –∏–≥—Ä–æ–∫–∞`);
if(user.uid === message.user.uid) return bot(`–Ω–µ–≤–µ—Ä–Ω—ã–π ID`);

let clanid = user.clanid;
if(!clans[clanid]) return bot(`—ç—Ç–æ—Ç —á–µ–ª–æ–≤–µ–∫ –Ω–µ —Å–æ—Å—Ç–æ–∏—Ç –≤ –∫–ª–∞–Ω–µ`);
if(clans[clanid].users[message.user.uid].level < 3) return bot(`–ø–æ–≤—ã—à–∞—Ç—å –º–æ–∂–µ—Ç —Ç–æ–ª—å–∫–æ —Å–æ–∑–¥–∞—Ç–µ–ª—å –∫–ª–∞–Ω–∞!`);


if(!clans[clanid]) return bot(`—ç—Ç–æ—Ç —á–µ–ª–æ–≤–µ–∫ –Ω–µ —Å–æ—Å—Ç–æ–∏—Ç –≤ –∫–ª–∞–Ω–µ!`);
if(user.clanid != message.user.clanid) return bot(`–∏–≥—Ä–æ–∫ —Å–æ—Å—Ç–æ–∏—Ç –≤ –¥—Ä—É–≥–æ–º –∫–ª–∞–Ω–µ!`);
if(clans[user.clanid].users[user.uid].level >= 2) return bot(`–Ω–µ–ª—å–∑—è –ø–æ–≤—ã—Å–∏—Ç—å –∏–≥—Ä–æ–∫–∞ –¥–æ —Å–æ–∑–¥–∞—Ç–µ–ª—è!`);
clans[clanid].users[user.uid].level += 1;
return bot(`–∏–≥—Ä–æ–∫ ${user.tag} –±—ã–ª –ø–æ–≤—ã—à–µ–Ω –≤ –∫–ª–∞–Ω–µ!`); 
});

cmd.on(/^(?:–∫–ª–∞–Ω –ø–æ–Ω–∏–∑–∏—Ç—å)\s([0-9]+)$/i, async (message, bot) => {
let clanidd = message.user.clanid;
if(!clans[clanidd]) return bot(`—É –≤–∞—Å –Ω–µ—Ç –∫–ª–∞–Ω–∞!
	‚ùì –î–ª—è –≤—Å—Ç—É–ø–ª–µ–Ω–∏—è –≤–≤–µ–¥–∏—Ç–µ ¬´–ö–ª–∞–Ω –≤–æ–π—Ç–∏ [ID]¬ª`);
let user = users.find(x=> x.uid === Number(message.args[1]));
if(!user) return bot(`–Ω–µ–≤–µ—Ä–Ω—ã–π ID –∏–≥—Ä–æ–∫–∞`);
if(user.uid === message.user.uid) return bot(`–Ω–µ–≤–µ—Ä–Ω—ã–π ID`);

let clanid = user.clanid;
if(!clans[clanid]) return bot(`—ç—Ç–æ—Ç —á–µ–ª–æ–≤–µ–∫ –Ω–µ —Å–æ—Å—Ç–æ–∏—Ç –≤ –∫–ª–∞–Ω–µ`);
if(clans[clanid].users[message.user.uid].level < 3) return bot(`–ø–æ–Ω–∏–∂–∞—Ç—å –º–æ–∂–µ—Ç —Ç–æ–ª—å–∫–æ —Å–æ–∑–¥–∞—Ç–µ–ª—å –∫–ª–∞–Ω–∞!`);


if(!clans[clanid]) return bot(`—ç—Ç–æ—Ç —á–µ–ª–æ–≤–µ–∫ –Ω–µ —Å–æ—Å—Ç–æ–∏—Ç –≤ –∫–ª–∞–Ω–µ!`);
if(user.clanid != message.user.clanid) return bot(`–∏–≥—Ä–æ–∫ —Å–æ—Å—Ç–æ–∏—Ç –≤ –¥—Ä—É–≥–æ–º –∫–ª–∞–Ω–µ!`);
if(clans[user.clanid].users[user.uid].level <= 0) return bot(`–Ω–µ–ª—å–∑—è –ø–æ–Ω–∏–∑–∏—Ç—å –∏–≥—Ä–æ–∫–∞ –Ω–∏–∂–µ —É—á–∞—Å—Ç–Ω–∏–∫–∞!`);
clans[clanid].users[user.uid].level -= 1;
return bot(`–∏–≥—Ä–æ–∫ ${user.tag} –±—ã–ª –ø–æ–Ω–∏–∂–µ–Ω –≤ –∫–ª–∞–Ω–µ!`); 
});

cmd.on(/^(?:–∫–ª–∞–Ω –∫–∏–∫)\s([0-9]+)$/i, async (message, bot) => {
let clanidd = message.user.clanid;
if(!clans[clanidd]) return bot(`—É –≤–∞—Å –Ω–µ—Ç –∫–ª–∞–Ω–∞!
	‚ùì –î–ª—è –≤—Å—Ç—É–ø–ª–µ–Ω–∏—è –≤–≤–µ–¥–∏—Ç–µ ¬´–ö–ª–∞–Ω –≤–æ–π—Ç–∏ [ID]¬ª`);
let user = users.find(x=> x.uid === Number(message.args[1]));
if(!user) return bot(`–Ω–µ–≤–µ—Ä–Ω—ã–π ID –∏–≥—Ä–æ–∫–∞`);
if(user.uid === message.user.uid) return bot(`–Ω–µ–≤–µ—Ä–Ω—ã–π ID`);

let clanid = user.clanid;
if(!clans[clanid]) return bot(`—ç—Ç–æ—Ç —á–µ–ª–æ–≤–µ–∫ –Ω–µ —Å–æ—Å—Ç–æ–∏—Ç –≤ –∫–ª–∞–Ω–µ`);
if(clans[clanid].users[message.user.uid].level < 3) return bot(`–∫–∏–∫–∞—Ç—å –º–æ–∂–µ—Ç —Ç–æ–ª—å–∫–æ —Å–æ–∑–¥–∞—Ç–µ–ª—å –∫–ª–∞–Ω–∞!`);


if(!clans[clanid]) return bot(`—ç—Ç–æ—Ç —á–µ–ª–æ–≤–µ–∫ –Ω–µ —Å–æ—Å—Ç–æ–∏—Ç –≤ –∫–ª–∞–Ω–µ!`);
if(user.clanid != message.user.clanid) return bot(`–∏–≥—Ä–æ–∫ —Å–æ—Å—Ç–æ–∏—Ç –≤ –¥—Ä—É–≥–æ–º –∫–ª–∞–Ω–µ!`);
clans[clanid].peoples -= 1;
user.clanid = false;
delete clans[clanid].users[user.uid];
return bot(`–∏–≥—Ä–æ–∫ ${user.tag} –±—ã–ª –∫–∏–∫–Ω—É—Ç –∏–∑ –∫–ª–∞–Ω–µ!`); 
});

cmd.on(/^(?:–∫–ª–∞–Ω –≤–æ–π—Ç–∏|–∫–ª–∞–Ω –∑–∞–π—Ç–∏|–∫–ª–∞–Ω –≤—Ö–æ–¥|–∫–ª–∞–Ω –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å—Å—è|–∫–ª–∞–Ω –ø—Ä–∏—Å–æ–µ–¥–µ–Ω–∏—Ç—å—Å—è|–∫–ª–∞–Ω)\s([0-9]+)$/i, async (message, bot) => {
let clanid = message.user.clanid;
if(clans[clanid]) return bot(`–≤—ã —É–∂–µ —Å–æ—Å—Ç–æ–∏—Ç–µ –≤ –∫–ª–∞–Ω–µ!`);
if(!message.args[1]) return bot(`–≤—ã –Ω–µ —É–∫–∞–∑–∞–ª–∏ ID –∫–ª–∞–Ω–∞!`);
let idclan = message.args[1];

if(!clans[idclan]) return bot(`–¥–∞–Ω–Ω–æ–≥–æ –∫–ª–∞–Ω–∞ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç! –£–∫–∞–∂–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π ID –∫–ª–∞–Ω–∞.`);
if(clans[idclan].delete == true) return bot(`–¥–∞–Ω–Ω—ã–π –∫–ª–∞–Ω —É–¥–∞–ª—ë–Ω.`);
if(clans[idclan].lvl == 0) { 
if(clans[idclan].peoples >= 5) return bot(`–∫–ª–∞–Ω –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω!`);
};
if(clans[idclan].lvl == 1) { 
if(clans[idclan].peoples >= 15) return bot(`–∫–ª–∞–Ω –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω!`);
};
if(clans[idclan].lvl == 2) { 
if(clans[idclan].peoples >= 25) return bot(`–∫–ª–∞–Ω –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω!`);
};
if(clans[idclan].lvl == 3) { 
if(clans[idclan].peoples >= 50) return bot(`–∫–ª–∞–Ω –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω!`);
};
if(clans[idclan].lvl == 4) { 
if(clans[idclan].peoples >= 100) return bot(`–∫–ª–∞–Ω –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω!`);
};
if(clans[idclan].open == false) return bot(`üîí –ö–ª–∞–Ω –∑–∞–∫—Ä—ã—Ç, –¥–æ—Å—Ç—É–ø –ø–æ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è–º`);
if(clans[idclan].open == true){
clans[idclan].peoples += 1;
message.user.clanid = Number(message.args[1]);
if(!clans[idclan].users[message.user]) {
clans[idclan].users[message.user.uid] = {
id: message.user.id,
uid: message.user.uid,
level: 1
}
}
return bot(`–≤—ã –≤–æ—à–ª–∏ –≤ –∫–ª–∞–Ω ¬´${clans[idclan].name}¬ª!\n–í–≤–µ–¥–∏—Ç–µ "–∫–ª–∞–Ω –ø–æ–º–æ—â—å" —á—Ç–æ–±—ã –ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å –∫–æ–º–∞–Ω–¥—ã –∫–ª–∞–Ω–∞!`);
}

});

cmd.on(/^(?:–∫–ª–∞–Ω –ø–æ–∫–∏–Ω—É—Ç—å)$/i, async (message, bot) => {
let clanid = message.user.clanid;
if(!clans[clanid]) return bot(`—É –≤–∞—Å –Ω–µ—Ç –∫–ª–∞–Ω–∞!
	‚ùì –î–ª—è –≤—Å—Ç—É–ø–ª–µ–Ω–∏—è –≤–≤–µ–¥–∏—Ç–µ ¬´–ö–ª–∞–Ω –≤–æ–π—Ç–∏ [ID]¬ª`);
clans[clanid].peoples -=
 
1;
message.user.clanid = false;
delete clans[clanid].users[message.user.uid];
return bot(`–≤—ã –ø–æ–∫–∏–Ω—É–ª–∏ –∫–ª–∞–Ω!`);

});

cmd.on(/^(?:‚öî —Ç–æ–ø –∫–ª–∞–Ω—ã|—Ç–æ–ø –∫–ª–∞–Ω—ã|‚öî —Ç–æ–ø –∫–ª–∞–Ω–æ–≤|‚öî –∫–ª–∞–Ω —Ç–æ–ø|‚öî –∫–ª–∞–Ω—ã —Ç–æ–ø|–∫–ª–∞–Ω–æ–≤ —Ç–æ–ø|—Ç–æ–ø –∫–ª–∞–Ω–æ–≤|–∫–ª–∞–Ω —Ç–æ–ø|—Ç–æ–ø –∫–ª–∞–Ω|–ª—É—á—à–∏–µ –∫–ª–∞–Ω—ã|–∫–ª–∞–Ω—ã|üèÜ –õ—É—á—à–∏–µ –∫–ª–∞–Ω—ã)$/i, async (message, bot) => {
		let top = [];  
		let topc = []; 
		
		function cccl(clanidd) { 
		let texxxt = ``; 
		for(let id in clans[clanidd].users) { 
		let user = users[id]; 
		if(clans[clanidd].users[id].level == 3) texxxt += `*id${clans[clanidd].users[id].level == 3} (${clans[clanidd].name})`; 
		} 
		return texxxt; 
		} 
		
		clans.map(x=> { 
		topc.push({ balance: x.balance, rating: x.rating, name: x.name, smile: x.smile, id: x.id, peoples: x.peoples, lvl: x.lvl }); 
		}); 
		
		topc.sort((a, b) => { 
		return b.rating - a.rating; 
		}); 
		const find = () => {
			let pos = 1000;
	
			for (let i = 0; i < top.length; i++)
			{
				if(top[i].id === message.senderId) return pos = i;
			}
	
			return pos;
		}
		
		let cll = ``; 
		
		for (let i = 0; i < 10; i++) 
		{ 
		if(!topc[i]) return; 
		const clan = topc[i]; 
		
		let mp = ``; 
		if(clan.lvl == 0) { 
		mp += `5`; 
		}; 
		if(clan.lvl == 1) { 
		mp += `15`; 
		}; 
		if(clan.lvl == 2) { 
		mp += `25`; 
		}; 
		if(clan.lvl == 3) { 
		mp += `50`; 
		}; 
		
		cll += `${i === 9 ? `üîü` : `${i + 1}‚É£`}  [${clan.peoples}/${mp}] ${cccl(clan.id)} -  üèÜ${utils.sp(clan.rating)} | $${utils.rn(clan.balance)}\n`; 
		} 
		
		return bot(`—Ç–æ–ø –∫–ª–∞–Ω–æ–≤: 
		${cll}
		‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî‚Äî
		
üì¢ –†–µ–π—Ç–∏–Ω–≥ –∫–ª–∞–Ω–∞ —Å–∫–ª–∞–¥—ã–≤–∞–µ—Ç—Å—è –∏–∑ –ø–æ–±–µ–¥ –∏ –ø–æ—Ä–∞–∂–µ–Ω–∏–π –≤ –∞—Ç–∞–∫–∞—Ö.`);
		});

cmd.on(/^(?:–°–ª–∞–π–º)/i, async (message, bot) => { 
message.user.foolder += 1;
	rq("https://isinkin-bot-api.herokuapp.com/1/talk?q=" + encodeURIComponent(message.text))
	.then(res => {
		return message.send(res.text)
	})	



});
/// –†–ê–ó–î–ê–ß–ê ///

let giving1 = true;

cmd.on(/^(?:—Ä–∞–∑–¥–∞—á–∞)$/i, async (message, bot) => {
		if(message.user.post < 5) return bot(`–¥–æ—Å—Ç—É–ø–Ω–æ —Ç–æ–ª—å–∫–æ –†–∞–∑—Ä–∞–±—É!`);
			 users.filter(x=> x.id !== 0).map(zz => { 
  vk.api.messages.send({ user_id: zz.id, message: `üÜì –•–∞–ª—è–≤–Ω—ã–µ –±–∞–±–∫–∏ üÜì\n üé∞ –ü–æ—Å—Ç —Å —Ä–∞–∑–¥–∞—á–µ–π —É–∂–µ –≤ –≥—Ä—É–ø–ø–µ üé∞`}); 
 }); 
	var bvin = 160000; 
		var smile = ['üôÇ','üòØ','‚ò∫','ü§ë','üòâ'].random(); 
	var nsmile = ['üéä','‚≠ê','üîä','üî•','üéÆ','üåà','üí°','üí≥','üèÜ','üéâ','üí∏'].random(); 

	var post = ['üéÆ','ü§ë','üé∞','üî•','üòé','üëª','üíÉ','üë®‚Äçüåæ','üíõ','üÜì','üí£'].random(); 
	giving1 = true;
	user.api.wall.post({
		owner_id: -114070130,
		message: `
       ${post} –î–æ–±—Ä–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ —Å—É—Ç–æ–∫!\n –°–¥–µ–ª–∞–π—Ç–µ —Ä–µ–ø–æ—Å—Ç —ç—Ç–æ–π –∑–∞–ø–∏—Å–∏ –∏ –ø–æ–ª—É—á–∏—Ç–µ: ${spaces(bvin)}$ –Ω–∞ —Å–≤–æ–π –∏–≥—Ä–æ–≤–æ–π –±–∞–ª–∞–Ω—Å.
       		‚Äî –ù–∞—á–∞–ª–æ –∞–∫—Ü–∏–∏ –≤ ${time(1)}. \n –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∞–∫—Ü–∏–∏ 1 —á–∞—Å.

		`, attachment: 'photo-114070130_457239421'}).then((response) => { 
		user.api.wall.openComments({
				owner_id: -114070130,
				post_id: response.post_id
			});
		user.api.wall.createComment({
				owner_id: -114070130,
				post_id: response.post_id,
				from_group: 114070130,
				message: 'üîî –í–∫–ª—é—á–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –Ω–æ–≤—ã—Ö –∑–∞–ø–∏—Å—è—Ö, —á—Ç–æ –±—ã –Ω–µ –ø—Ä–æ–ø—É—Å–∫–∞—Ç—å –Ω–æ–≤—ã–µ –∫—Ä—É—Ç—ã–µ —Ä–∞–∑–¥–∞—á–∏!',
			});
			user.api.wall.closeComments({
				owner_id: -114070130,
				post_id: response.post_id
			});
		setTimeout(() => {
			user.api.call('wall.getReposts', { owner_id: -114070130, post_id: response.post_id, count: 1000 }).then((res) => { 
				res.items.map(x=> {
					if(x.from_id < 0) return;
					let user = users.find(a => a.id === x.from_id);
					if(!user) return; 
					user.gg = 160000;
					vk.api.messages.send({ user_id: user.id, message: `üîë [id${user.id}|${user.tag}], —Å–ø–∞—Å–∏–±–æ –∑–∞ —É—á–∞—Å—Ç–∏–µ –≤ —Ä–∞–∑–¥–∞—á–µ!  \n ‚ñ∂ –ù–∞ –≤–∞—à –±–∞–ª–∞–Ω—Å –±—ã–ª–æ –∑–∞—á–∏—Å–ª–µ–Ω–æ ${spaces(bvin)}$ ${smile}!` });
					vk.api.messages.send({ user_id: 593863583, message: `[–ê–≤—Ç–æ-–†–∞–∑–¥–∞—á–∞]: –ò–≥—Ä–æ–∫—É "(@id${user.id} (${user.tag})" –≤—ã–¥–∞–Ω–æ: ${spaces(bvin)}$ –Ω–∞ –±–∞–ª–∞–Ω—Å.\n\n–ï–≥–æ –±–∞–ª–∞–Ω—Å —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç: ${spaces(user.balance)}$`})
				});
			});
			user.api.wall.openComments({
				owner_id: -114070130,
				post_id: response.post_id
			});
			user.api.wall.closeComments({
				owner_id: -114070130,
				post_id: response.post_id
			});
			giving = false;
		}, 3600000);
		giving1 = false;
		return message.send(`ID –ø–æ—Å—Ç–∞ - ${response.post_id}`)
	});
});